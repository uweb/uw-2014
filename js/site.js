(function(){function _logType(a,b){var c=Array.prototype.slice.call(b);a?c.unshift(a.toUpperCase()+":"):a="log",vjs.log.history.push(c),c.unshift("VIDEOJS:"),_console[a].apply?_console[a].apply(_console,c):_console[a](c.join(" "))}jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(1-Math.pow(2,-10*b/e))+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(2-Math.pow(2,-10*--b))+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*(2*Math.PI)/g)+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*(2*Math.PI)/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(2==(b/=e/2))return c+d;if(g||(g=e*(.3*1.5)),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return b<1?h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*(2*Math.PI)/g)*-.5+c:h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*(2*Math.PI)/g)*.5+d+c},easeInBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),(b/=e/2)<1?d/2*(b*b*((1+(f*=1.525))*b-f))+c:d/2*((b-=2)*b*((1+(f*=1.525))*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*(7.5625*b*b)+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(a,b,c,d,e){return b<e/2?.5*jQuery.easing.easeInBounce(a,2*b,0,d,e)+c:.5*jQuery.easing.easeOutBounce(a,2*b-e,0,d,e)+.5*d+c}}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){"use strict";function b(b,e){function f(){return m.update(),h(),m}function g(){r.css(x,m.contentPosition/m.trackRatio),o.css(x,-m.contentPosition),p.css(w,m.trackSize),q.css(w,m.trackSize),r.css(w,m.thumbSize)}function h(){u?n[0].ontouchstart=function(a){1===a.touches.length&&(a.stopPropagation(),i(a.touches[0]))}:(r.bind("mousedown",i),q.bind("mousedown",k)),a(window).resize(function(){m.update("relative")}),m.options.wheel&&window.addEventListener?b[0].addEventListener(v,j,!1):m.options.wheel&&(b[0].onmousewheel=j)}function i(b){a("body").addClass("noSelect"),s=t?b.pageX:b.pageY,m.thumbPosition=parseInt(r.css(x),10)||0,u?(document.ontouchmove=function(a){a.preventDefault(),k(a.touches[0])},document.ontouchend=l):(a(document).bind("mousemove",k),a(document).bind("mouseup",l),r.bind("mouseup",l))}function j(c){if(m.contentRatio<1){var d=c||window.event,e="delta"+m.options.axis.toUpperCase(),f=-(d[e]||d.detail||-1/3*d.wheelDelta)/40;m.contentPosition-=f*m.options.wheelSpeed,m.contentPosition=Math.min(m.contentSize-m.viewportSize,Math.max(0,m.contentPosition)),b.trigger("move"),r.css(x,m.contentPosition/m.trackRatio),o.css(x,-m.contentPosition),(m.options.wheelLock||m.contentPosition!==m.contentSize-m.viewportSize&&0!==m.contentPosition)&&(d=a.event.fix(d),d.preventDefault())}}function k(a){if(m.contentRatio<1){var c=t?a.pageX:a.pageY,d=c-s;m.options.scrollInvert&&u&&(d=s-c);var e=Math.min(m.trackSize-m.thumbSize,Math.max(0,m.thumbPosition+d));m.contentPosition=e*m.trackRatio,b.trigger("move"),r.css(x,e),o.css(x,-m.contentPosition)}}function l(){a("body").removeClass("noSelect"),a(document).unbind("mousemove",k),a(document).unbind("mouseup",l),r.unbind("mouseup",l),document.ontouchmove=document.ontouchend=null}this.options=a.extend({},d,e),this._defaults=d,this._name=c;var m=this,n=b.find(".viewport"),o=b.find(".overview"),p=b.find(".scrollbar"),q=p.find(".track"),r=p.find(".thumb"),s=0,t="x"===this.options.axis,u="ontouchstart"in document.documentElement,v="onwheel"in document||document.documentMode>=9?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",w=t?"width":"height",x=t?"left":"top";return this.contentPosition=0,this.viewportSize=0,this.contentSize=0,this.contentRatio=0,this.trackSize=0,this.trackRatio=0,this.thumbSize=0,this.thumbPosition=0,this.update=function(a){var b=w.charAt(0).toUpperCase()+w.slice(1).toLowerCase();switch(this.viewportSize=n[0]["offset"+b],this.contentSize=o[0]["scroll"+b],this.contentRatio=this.viewportSize/this.contentSize,this.trackSize=this.options.trackSize||this.viewportSize,this.thumbSize=Math.min(this.trackSize,Math.max(0,this.options.thumbSize||this.trackSize*this.contentRatio)),this.trackRatio=this.options.thumbSize?(this.contentSize-this.viewportSize)/(this.trackSize-this.thumbSize):this.contentSize/this.trackSize,s=q.offset().top,p.toggleClass("disable",this.contentRatio>=1),a){case"bottom":this.contentPosition=this.contentSize-this.viewportSize;break;case"relative":this.contentPosition=Math.min(Math.max(this.contentSize-this.viewportSize,0),Math.max(0,this.contentPosition));break;default:this.contentPosition=parseInt(a,10)||0}return g(),m},f()}var c="tinyscrollbar",d={axis:"y",wheel:!0,wheelSpeed:40,wheelLock:!0,scrollInvert:!1,trackSize:!1,thumbSize:!1};a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(a(this),d))})}}),document.createElement("video"),document.createElement("audio"),document.createElement("track");var vjs=function(a,b,c){var d;if("string"==typeof a){if(0===a.indexOf("#")&&(a=a.slice(1)),vjs.players[a])return vjs.players[a];d=vjs.el(a)}else d=a;if(!d||!d.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return d.player||new vjs.Player(d,b,c)},videojs=vjs;window.videojs=window.vjs=vjs,vjs.CDN_VERSION="4.6",vjs.ACCESS_PROTOCOL="https:"==document.location.protocol?"https://":"http://",vjs.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,playbackRates:[],children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{},errorDisplay:{}},notSupportedMessage:"No compatible source was found for this video."},"GENERATED_CDN_VSN"!==vjs.CDN_VERSION&&(videojs.options.flash.swf=vjs.ACCESS_PROTOCOL+"vjs.zencdn.net/"+vjs.CDN_VERSION+"/video-js.swf"),vjs.players={},"function"==typeof define&&define.amd?define([],function(){return videojs}):"object"==typeof exports&&"object"==typeof module&&(module.exports=videojs),vjs.CoreObject=vjs.CoreObject=function(){},vjs.CoreObject.extend=function(a){var b,c;a=a||{},b=a.init||a.init||this.prototype.init||this.prototype.init||function(){},c=function(){b.apply(this,arguments)},c.prototype=vjs.obj.create(this.prototype),c.prototype.constructor=c,c.extend=vjs.CoreObject.extend,c.create=vjs.CoreObject.create;for(var d in a)a.hasOwnProperty(d)&&(c.prototype[d]=a[d]);return c},vjs.CoreObject.create=function(){var a=vjs.obj.create(this.prototype);return this.apply(a,arguments),a},vjs.on=function(a,b,c){var d=vjs.getData(a);d.handlers||(d.handlers={}),d.handlers[b]||(d.handlers[b]=[]),c.guid||(c.guid=vjs.guid++),d.handlers[b].push(c),d.dispatcher||(d.disabled=!1,d.dispatcher=function(b){if(!d.disabled){b=vjs.fixEvent(b);var c=d.handlers[b.type];if(c)for(var e=c.slice(0),f=0,g=e.length;f<g&&!b.isImmediatePropagationStopped();f++)e[f].call(a,b)}}),1==d.handlers[b].length&&(document.addEventListener?a.addEventListener(b,d.dispatcher,!1):document.attachEvent&&a.attachEvent("on"+b,d.dispatcher))},vjs.off=function(a,b,c){if(vjs.hasData(a)){var d=vjs.getData(a);if(d.handlers){var e=function(b){d.handlers[b]=[],vjs.cleanUpEvents(a,b)};if(b){var f=d.handlers[b];if(f){if(!c)return void e(b);if(c.guid)for(var g=0;g<f.length;g++)f[g].guid===c.guid&&f.splice(g--,1);vjs.cleanUpEvents(a,b)}}else for(var h in d.handlers)e(h)}}},vjs.cleanUpEvents=function(a,b){var c=vjs.getData(a);0===c.handlers[b].length&&(delete c.handlers[b],document.removeEventListener?a.removeEventListener(b,c.dispatcher,!1):document.detachEvent&&a.detachEvent("on"+b,c.dispatcher)),vjs.isEmpty(c.handlers)&&(delete c.handlers,delete c.dispatcher,delete c.disabled),vjs.isEmpty(c)&&vjs.removeData(a)},vjs.fixEvent=function(a){function b(){return!0}function c(){return!1}if(!a||!a.isPropagationStopped){var d=a||window.event;a={};for(var e in d)"layerX"!==e&&"layerY"!==e&&"keyboardEvent.keyLocation"!==e&&("returnValue"==e&&d.preventDefault||(a[e]=d[e]));if(a.target||(a.target=a.srcElement||document),a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement,a.preventDefault=function(){d.preventDefault&&d.preventDefault(),a.returnValue=!1,a.isDefaultPrevented=b,a.defaultPrevented=!0},a.isDefaultPrevented=c,a.defaultPrevented=!1,a.stopPropagation=function(){d.stopPropagation&&d.stopPropagation(),a.cancelBubble=!0,a.isPropagationStopped=b},a.isPropagationStopped=c,a.stopImmediatePropagation=function(){d.stopImmediatePropagation&&d.stopImmediatePropagation(),a.isImmediatePropagationStopped=b,a.stopPropagation()},a.isImmediatePropagationStopped=c,null!=a.clientX){var f=document.documentElement,g=document.body;a.pageX=a.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=a.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)}a.which=a.charCode||a.keyCode,null!=a.button&&(a.button=1&a.button?0:4&a.button?1:2&a.button?2:0)}return a},vjs.trigger=function(a,b){var c=vjs.hasData(a)?vjs.getData(a):{},d=a.parentNode||a.ownerDocument;if("string"==typeof b&&(b={type:b,target:a}),b=vjs.fixEvent(b),c.dispatcher&&c.dispatcher.call(a,b),d&&!b.isPropagationStopped()&&!1!==b.bubbles)vjs.trigger(d,b);else if(!d&&!b.defaultPrevented){var e=vjs.getData(b.target);b.target[b.type]&&(e.disabled=!0,"function"==typeof b.target[b.type]&&b.target[b.type](),e.disabled=!1)}return!b.defaultPrevented},vjs.one=function(a,b,c){var d=function(){vjs.off(a,b,d),c.apply(this,arguments)};d.guid=c.guid=c.guid||vjs.guid++,vjs.on(a,b,d)};var hasOwnProp=Object.prototype.hasOwnProperty;vjs.createEl=function(a,b){var c,d;c=document.createElement(a||"div");for(d in b)hasOwnProp.call(b,d)&&(-1!==d.indexOf("aria-")||"role"==d?c.setAttribute(d,b[d]):c[d]=b[d]);return c},vjs.capitalize=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},vjs.obj={},vjs.obj.create=Object.create||function(a){function b(){}return b.prototype=a,new b},vjs.obj.each=function(a,b,c){for(var d in a)hasOwnProp.call(a,d)&&b.call(c||this,d,a[d])},vjs.obj.merge=function(a,b){if(!b)return a;for(var c in b)hasOwnProp.call(b,c)&&(a[c]=b[c]);return a},vjs.obj.deepMerge=function(a,b){var c,d,e;a=vjs.obj.copy(a);for(c in b)hasOwnProp.call(b,c)&&(d=a[c],e=b[c],vjs.obj.isPlain(d)&&vjs.obj.isPlain(e)?a[c]=vjs.obj.deepMerge(d,e):a[c]=b[c]);return a},vjs.obj.copy=function(a){return vjs.obj.merge({},a)},vjs.obj.isPlain=function(a){return!!a&&"object"==typeof a&&"[object Object]"===a.toString()&&a.constructor===Object},vjs.bind=function(a,b,c){b.guid||(b.guid=vjs.guid++);var d=function(){return b.apply(a,arguments)};return d.guid=c?c+"_"+b.guid:b.guid,d},vjs.cache={},vjs.guid=1,vjs.expando="vdata"+(new Date).getTime(),vjs.getData=function(a){var b=a[vjs.expando];return b||(b=a[vjs.expando]=vjs.guid++,vjs.cache[b]={}),vjs.cache[b]},vjs.hasData=function(a){var b=a[vjs.expando];return!(!b||vjs.isEmpty(vjs.cache[b]))},vjs.removeData=function(a){var b=a[vjs.expando];if(b){delete vjs.cache[b];try{delete a[vjs.expando]}catch(b){a.removeAttribute?a.removeAttribute(vjs.expando):a[vjs.expando]=null}}},vjs.isEmpty=function(a){for(var b in a)if(null!==a[b])return!1;return!0},vjs.addClass=function(a,b){-1==(" "+a.className+" ").indexOf(" "+b+" ")&&(a.className=""===a.className?b:a.className+" "+b)},vjs.removeClass=function(a,b){var c,d;if(-1!=a.className.indexOf(b)){for(c=a.className.split(" "),d=c.length-1;d>=0;d--)c[d]===b&&c.splice(d,1);a.className=c.join(" ")}},vjs.TEST_VID=vjs.createEl("video"),vjs.USER_AGENT=navigator.userAgent,vjs.IS_IPHONE=/iPhone/i.test(vjs.USER_AGENT),vjs.IS_IPAD=/iPad/i.test(vjs.USER_AGENT),vjs.IS_IPOD=/iPod/i.test(vjs.USER_AGENT),vjs.IS_IOS=vjs.IS_IPHONE||vjs.IS_IPAD||vjs.IS_IPOD,vjs.IOS_VERSION=function(){var a=vjs.USER_AGENT.match(/OS (\d+)_/i);if(a&&a[1])return a[1]}(),vjs.IS_ANDROID=/Android/i.test(vjs.USER_AGENT),vjs.ANDROID_VERSION=function(){var a,b,c=vjs.USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);return c?(a=c[1]&&parseFloat(c[1]),b=c[2]&&parseFloat(c[2]),a&&b?parseFloat(c[1]+"."+c[2]):a||null):null}(),vjs.IS_OLD_ANDROID=vjs.IS_ANDROID&&/webkit/i.test(vjs.USER_AGENT)&&vjs.ANDROID_VERSION<2.3,vjs.IS_FIREFOX=/Firefox/i.test(vjs.USER_AGENT),vjs.IS_CHROME=/Chrome/i.test(vjs.USER_AGENT),vjs.TOUCH_ENABLED=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),vjs.getAttributeValues=function(a){var b,c,d,e,f;if(b={},c=",autoplay,controls,loop,muted,default,",a&&a.attributes&&a.attributes.length>0){d=a.attributes;for(var g=d.length-1;g>=0;g--)e=d[g].name,f=d[g].value,"boolean"!=typeof a[e]&&-1===c.indexOf(","+e+",")||(f=null!==f),b[e]=f}return b},vjs.getComputedDimension=function(a,b){var c="";return document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(a,"").getPropertyValue(b):a.currentStyle&&(c=a["client"+b.substr(0,1).toUpperCase()+b.substr(1)]+"px"),c},vjs.insertFirst=function(a,b){b.firstChild?b.insertBefore(a,b.firstChild):b.appendChild(a)},vjs.browser={},vjs.el=function(a){return 0===a.indexOf("#")&&(a=a.slice(1)),document.getElementById(a)},vjs.formatTime=function(a,b){b=b||a;var c=Math.floor(a%60),d=Math.floor(a/60%60),e=Math.floor(a/3600),f=Math.floor(b/60%60),g=Math.floor(b/3600);return(isNaN(a)||a===1/0)&&(e=d=c="-"),e=e>0||g>0?e+":":"",d=((e||f>=10)&&d<10?"0"+d:d)+":",c=c<10?"0"+c:c,e+d+c},vjs.blockTextSelection=function(){document.body.focus(),document.onselectstart=function(){return!1}},vjs.unblockTextSelection=function(){document.onselectstart=function(){return!0}},vjs.trim=function(a){return(a+"").replace(/^\s+|\s+$/g,"")},vjs.round=function(a,b){return b||(b=0),Math.round(a*Math.pow(10,b))/Math.pow(10,b)},vjs.createTimeRange=function(a,b){return{length:1,start:function(){return a},end:function(){return b}}},vjs.get=function(a,b,c,d){var e,f,g,h,i;c=c||function(){},"undefined"==typeof XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(a){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(a){}throw new Error("This browser does not support XMLHttpRequest.")}),f=new XMLHttpRequest,g=vjs.parseUrl(a),h=window.location,i=g.protocol+g.host!==h.protocol+h.host,!i||!window.XDomainRequest||"withCredentials"in f?(e="file:"==g.protocol||"file:"==h.protocol,f.onreadystatechange=function(){4===f.readyState&&(200===f.status||e&&0===f.status?b(f.responseText):c(f.responseText))}):(f=new window.XDomainRequest,f.onload=function(){b(f.responseText)},f.onerror=c,f.onprogress=function(){},f.ontimeout=c);try{f.open("GET",a,!0),d&&(f.withCredentials=!0)}catch(a){return void c(a)}try{f.send()}catch(a){c(a)}},vjs.setLocalStorage=function(a,b){try{var c=window.localStorage||!1;if(!c)return;c[a]=b}catch(a){22==a.code||1014==a.code?vjs.log("LocalStorage Full (VideoJS)",a):18==a.code?vjs.log("LocalStorage not allowed (VideoJS)",a):vjs.log("LocalStorage Error (VideoJS)",a)}},vjs.getAbsoluteURL=function(a){return a.match(/^https?:\/\//)||(a=vjs.createEl("div",{innerHTML:'<a href="'+a+'">x</a>'}).firstChild.href),a},vjs.parseUrl=function(a){var b,c,d,e,f;e=["protocol","hostname","port","pathname","search","hash","host"],c=vjs.createEl("a",{href:a}),d=""===c.host&&"file:"!==c.protocol,d&&(b=vjs.createEl("div"),b.innerHTML='<a href="'+a+'"></a>',c=b.firstChild,b.setAttribute("style","display:none; position:absolute;"),document.body.appendChild(b)),f={};for(var g=0;g<e.length;g++)f[e[g]]=c[e[g]];return d&&document.body.removeChild(b),f};var _noop=function(){},_console=window.console||{log:_noop,warn:_noop,error:_noop};vjs.log=function(){_logType(null,arguments)},vjs.log.history=[],vjs.log.error=function(){_logType("error",arguments)},vjs.log.warn=function(){_logType("warn",arguments)},vjs.findPosition=function(a){var b,c,d,e,f,g,h,i,j;return a.getBoundingClientRect&&a.parentNode&&(b=a.getBoundingClientRect()),b?(c=document.documentElement,d=document.body,e=c.clientLeft||d.clientLeft||0,f=window.pageXOffset||d.scrollLeft,g=b.left+f-e,h=c.clientTop||d.clientTop||0,i=window.pageYOffset||d.scrollTop,j=b.top+i-h,{left:vjs.round(g),top:vjs.round(j)}):{left:0,top:0}},vjs.util={},vjs.util.mergeOptions=function(a,b){var c,d,e;a=vjs.obj.copy(a);for(c in b)b.hasOwnProperty(c)&&(d=a[c],e=b[c],vjs.obj.isPlain(d)&&vjs.obj.isPlain(e)?a[c]=vjs.util.mergeOptions(d,e):a[c]=b[c]);return a},vjs.Component=vjs.CoreObject.extend({init:function(a,b,c){this.player_=a,this.options_=vjs.obj.copy(this.options_),b=this.options(b),this.id_=b.id||(b.el&&b.el.id?b.el.id:a.id()+"_component_"+vjs.guid++),this.name_=b.name||null,this.el_=b.el||this.createEl(),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.initChildren(),this.ready(c),!1!==b.reportTouchActivity&&this.enableTouchActivity()}}),vjs.Component.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var a=this.children_.length-1;a>=0;a--)this.children_[a].dispose&&this.children_[a].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),vjs.removeData(this.el_),this.el_=null},vjs.Component.prototype.player_=!0,vjs.Component.prototype.player=function(){return this.player_},vjs.Component.prototype.options_,vjs.Component.prototype.options=function(a){return void 0===a?this.options_:this.options_=vjs.util.mergeOptions(this.options_,a)},vjs.Component.prototype.el_,vjs.Component.prototype.createEl=function(a,b){return vjs.createEl(a,b)},vjs.Component.prototype.el=function(){return this.el_},vjs.Component.prototype.contentEl_,vjs.Component.prototype.contentEl=function(){return this.contentEl_||this.el_},vjs.Component.prototype.id_,vjs.Component.prototype.id=function(){return this.id_},vjs.Component.prototype.name_,vjs.Component.prototype.name=function(){return this.name_},vjs.Component.prototype.children_,vjs.Component.prototype.children=function(){return this.children_},vjs.Component.prototype.childIndex_,vjs.Component.prototype.getChildById=function(a){return this.childIndex_[a]},vjs.Component.prototype.childNameIndex_,vjs.Component.prototype.getChild=function(a){return this.childNameIndex_[a]},vjs.Component.prototype.addChild=function(a,b){var c,d,e;return"string"==typeof a?(e=a,b=b||{},d=b.componentClass||vjs.capitalize(e),b.name=e,c=new window.videojs[d](this.player_||this,b)):c=a,this.children_.push(c),"function"==typeof c.id&&(this.childIndex_[c.id()]=c),e=e||c.name&&c.name(),e&&(this.childNameIndex_[e]=c),"function"==typeof c.el&&c.el()&&this.contentEl().appendChild(c.el()),c},vjs.Component.prototype.removeChild=function(a){if("string"==typeof a&&(a=this.getChild(a)),a&&this.children_){for(var b=!1,c=this.children_.length-1;c>=0;c--)if(this.children_[c]===a){b=!0,this.children_.splice(c,1);break}if(b){this.childIndex_[a.id]=null,this.childNameIndex_[a.name]=null;var d=a.el();d&&d.parentNode===this.contentEl()&&this.contentEl().removeChild(a.el())}}},vjs.Component.prototype.initChildren=function(){var a,b,c,d,e;if(a=this,b=this.options().children)if(b instanceof Array)for(var f=0;f<b.length;f++)c=b[f],"string"==typeof c?(d=c,e={}):(d=c.name,e=c),a[d]=a.addChild(d,e);else vjs.obj.each(b,function(b,c){!1!==c&&(a[b]=a.addChild(b,c))})},vjs.Component.prototype.buildCSSClass=function(){return""},vjs.Component.prototype.on=function(a,b){return vjs.on(this.el_,a,vjs.bind(this,b)),this},vjs.Component.prototype.off=function(a,b){return vjs.off(this.el_,a,b),this},vjs.Component.prototype.one=function(a,b){return vjs.one(this.el_,a,vjs.bind(this,b)),this},vjs.Component.prototype.trigger=function(a,b){return vjs.trigger(this.el_,a,b),this},vjs.Component.prototype.isReady_,vjs.Component.prototype.isReadyOnInitFinish_=!0,vjs.Component.prototype.readyQueue_,vjs.Component.prototype.ready=function(a){return a&&(this.isReady_?a.call(this):(void 0===this.readyQueue_&&(this.readyQueue_=[]),this.readyQueue_.push(a))),this},vjs.Component.prototype.triggerReady=function(){this.isReady_=!0;var a=this.readyQueue_;if(a&&a.length>0){for(var b=0,c=a.length;b<c;b++)a[b].call(this);this.readyQueue_=[],this.trigger("ready")}},vjs.Component.prototype.addClass=function(a){return vjs.addClass(this.el_,a),this},vjs.Component.prototype.removeClass=function(a){return vjs.removeClass(this.el_,a),this},vjs.Component.prototype.show=function(){return this.el_.style.display="block",this},vjs.Component.prototype.hide=function(){return this.el_.style.display="none",this},vjs.Component.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},vjs.Component.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},vjs.Component.prototype.disable=function(){this.hide(),this.show=function(){}},vjs.Component.prototype.width=function(a,b){return this.dimension("width",a,b)},vjs.Component.prototype.height=function(a,b){return this.dimension("height",a,b)},vjs.Component.prototype.dimensions=function(a,b){return this.width(a,!0).height(b)},vjs.Component.prototype.dimension=function(a,b,c){if(void 0!==b)return-1!==(""+b).indexOf("%")||-1!==(""+b).indexOf("px")?this.el_.style[a]=b:this.el_.style[a]="auto"===b?"":b+"px",c||this.trigger("resize"),this;if(!this.el_)return 0;var d=this.el_.style[a],e=d.indexOf("px");return-1!==e?parseInt(d.slice(0,e),10):parseInt(this.el_["offset"+vjs.capitalize(a)],10)},vjs.Component.prototype.onResize,vjs.Component.prototype.emitTapEvents=function(){var a,b,c,d,e,f,g,h,i;a=0,b=null,i=22,this.on("touchstart",function(c){1===c.touches.length&&(b=c.touches[0],a=(new Date).getTime(),d=!0)}),this.on("touchmove",function(a){a.touches.length>1?d=!1:b&&(f=a.touches[0].pageX-b.pageX,g=a.touches[0].pageY-b.pageY,(h=Math.sqrt(f*f+g*g))>i&&(d=!1))}),e=function(){d=!1},this.on("touchleave",e),this.on("touchcancel",e),this.on("touchend",function(e){b=null,!0===d&&(c=(new Date).getTime()-a)<250&&(e.preventDefault(),this.trigger("tap"))})},vjs.Component.prototype.enableTouchActivity=function(){var a,b,c;a=vjs.bind(this.player(),this.player().reportUserActivity),this.on("touchstart",function(){a(),clearInterval(b),b=setInterval(a,250)}),c=function(c){a(),clearInterval(b)},this.on("touchmove",a),this.on("touchend",c),this.on("touchcancel",c)},vjs.Button=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),this.emitTapEvents(),this.on("tap",this.onClick),this.on("click",this.onClick),this.on("focus",this.onFocus),this.on("blur",this.onBlur)}}),vjs.Button.prototype.createEl=function(a,b){var c;return b=vjs.obj.merge({className:this.buildCSSClass(),role:"button","aria-live":"polite",tabIndex:0},b),c=vjs.Component.prototype.createEl.call(this,a,b),b.innerHTML||(this.contentEl_=vjs.createEl("div",{className:"vjs-control-content"}),this.controlText_=vjs.createEl("span",{className:"vjs-control-text",innerHTML:this.buttonText||"Need Text"}),this.contentEl_.appendChild(this.controlText_),c.appendChild(this.contentEl_)),c},vjs.Button.prototype.buildCSSClass=function(){return"vjs-control "+vjs.Component.prototype.buildCSSClass.call(this)},vjs.Button.prototype.onClick=function(){},vjs.Button.prototype.onFocus=function(){vjs.on(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Button.prototype.onKeyPress=function(a){32!=a.which&&13!=a.which||(a.preventDefault(),this.onClick())},vjs.Button.prototype.onBlur=function(){vjs.off(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Slider=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),this.bar=this.getChild(this.options_.barName),this.handle=this.getChild(this.options_.handleName),this.on("mousedown",this.onMouseDown),this.on("touchstart",this.onMouseDown),this.on("focus",this.onFocus),this.on("blur",this.onBlur),this.on("click",this.onClick),this.player_.on("controlsvisible",vjs.bind(this,this.update)),a.on(this.playerEvent,vjs.bind(this,this.update)),this.boundEvents={}}}),vjs.Slider.prototype.createEl=function(a,b){return b=b||{},b.className=b.className+" vjs-slider",b=vjs.obj.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},b),vjs.Component.prototype.createEl.call(this,a,b)},vjs.Slider.prototype.onMouseDown=function(a){a.preventDefault(),vjs.blockTextSelection(),this.boundEvents.move=vjs.bind(this,this.onMouseMove),this.boundEvents.end=vjs.bind(this,this.onMouseUp),vjs.on(document,"mousemove",this.boundEvents.move),vjs.on(document,"mouseup",this.boundEvents.end),vjs.on(document,"touchmove",this.boundEvents.move),vjs.on(document,"touchend",this.boundEvents.end),this.onMouseMove(a)},vjs.Slider.prototype.onMouseUp=function(){vjs.unblockTextSelection(),vjs.off(document,"mousemove",this.boundEvents.move,!1),vjs.off(document,"mouseup",this.boundEvents.end,!1),vjs.off(document,"touchmove",this.boundEvents.move,!1),vjs.off(document,"touchend",this.boundEvents.end,!1),this.update()},vjs.Slider.prototype.update=function(){if(this.el_){var a,b=this.getPercent(),c=this.handle,d=this.bar;if(isNaN(b)&&(b=0),a=b,c){var e=this.el_,f=e.offsetWidth,g=c.el().offsetWidth,h=g?g/f:0,i=1-h,j=b*i;a=j+h/2,c.el().style.left=vjs.round(100*j,2)+"%"}d.el().style.width=vjs.round(100*a,2)+"%"}},vjs.Slider.prototype.calculateDistance=function(a){var b,c,d,e,f,g,h,i,j;if(b=this.el_,c=vjs.findPosition(b),f=g=b.offsetWidth,h=this.handle,this.options_.vertical){if(e=c.top,j=a.changedTouches?a.changedTouches[0].pageY:a.pageY,h){var k=h.el().offsetHeight;e+=k/2,g-=k}return Math.max(0,Math.min(1,(e-j+g)/g))}if(d=c.left,i=a.changedTouches?a.changedTouches[0].pageX:a.pageX,h){var l=h.el().offsetWidth;d+=l/2,f-=l}return Math.max(0,Math.min(1,(i-d)/f))},vjs.Slider.prototype.onFocus=function(){vjs.on(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Slider.prototype.onKeyPress=function(a){37==a.which?(a.preventDefault(),this.stepBack()):39==a.which&&(a.preventDefault(),this.stepForward())},vjs.Slider.prototype.onBlur=function(){vjs.off(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Slider.prototype.onClick=function(a){a.stopImmediatePropagation(),a.preventDefault()},vjs.SliderHandle=vjs.Component.extend(),vjs.SliderHandle.prototype.defaultValue=0,vjs.SliderHandle.prototype.createEl=function(a,b){return b=b||{},b.className=b.className+" vjs-slider-handle",b=vjs.obj.merge({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},b),vjs.Component.prototype.createEl.call(this,"div",b)},vjs.Menu=vjs.Component.extend(),vjs.Menu.prototype.addItem=function(a){this.addChild(a),a.on("click",vjs.bind(this,function(){this.unlockShowing()}))},vjs.Menu.prototype.createEl=function(){var a=this.options().contentElType||"ul";this.contentEl_=vjs.createEl(a,{className:"vjs-menu-content"});var b=vjs.Component.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return b.appendChild(this.contentEl_),vjs.on(b,"click",function(a){a.preventDefault(),a.stopImmediatePropagation()}),b},vjs.MenuItem=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b),this.selected(b.selected)}}),vjs.MenuItem.prototype.createEl=function(a,b){return vjs.Button.prototype.createEl.call(this,"li",vjs.obj.merge({className:"vjs-menu-item",innerHTML:this.options_.label},b))},vjs.MenuItem.prototype.onClick=function(){this.selected(!0)},vjs.MenuItem.prototype.selected=function(a){a?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-selected",!0)):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-selected",!1))},vjs.MenuButton=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b),this.menu=this.createMenu(),this.addChild(this.menu),this.items&&0===this.items.length&&this.hide(),this.on("keyup",this.onKeyPress),this.el_.setAttribute("aria-haspopup",!0),this.el_.setAttribute("role","button")}}),vjs.MenuButton.prototype.buttonPressed_=!1,vjs.MenuButton.prototype.createMenu=function(){var a=new vjs.Menu(this.player_);if(this.options().title&&a.contentEl().appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.options().title),tabindex:-1})),this.items=this.createItems(),this.items)for(var b=0;b<this.items.length;b++)a.addItem(this.items[b]);return a},vjs.MenuButton.prototype.createItems=function(){},vjs.MenuButton.prototype.buildCSSClass=function(){return this.className+" vjs-menu-button "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.MenuButton.prototype.onFocus=function(){},vjs.MenuButton.prototype.onBlur=function(){},vjs.MenuButton.prototype.onClick=function(){this.one("mouseout",vjs.bind(this,function(){this.menu.unlockShowing(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},vjs.MenuButton.prototype.onKeyPress=function(a){a.preventDefault(),32==a.which||13==a.which?this.buttonPressed_?this.unpressButton():this.pressButton():27==a.which&&this.buttonPressed_&&this.unpressButton()},vjs.MenuButton.prototype.pressButton=function(){this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-pressed",!0),this.items&&this.items.length>0&&this.items[0].el().focus()},vjs.MenuButton.prototype.unpressButton=function(){this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-pressed",!1)},vjs.MediaError=function(a){"number"==typeof a?this.code=a:"string"==typeof a?this.message=a:"object"==typeof a&&vjs.obj.merge(this,a),this.message||(this.message=vjs.MediaError.defaultMessages[this.code]||"")},vjs.MediaError.prototype.code=0,vjs.MediaError.prototype.message="",vjs.MediaError.prototype.status=null,vjs.MediaError.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],vjs.MediaError.defaultMessages={1:"You aborted the video playback",2:"A network error caused the video download to fail part-way.",3:"The video playback was aborted due to a corruption problem or because the video used features your browser did not support.",4:"The video could not be loaded, either because the server or network failed or because the format is not supported.",5:"The video is encrypted and we do not have the keys to decrypt it."};for(var errNum=0;errNum<vjs.MediaError.errorTypes.length;errNum++)vjs.MediaError[vjs.MediaError.errorTypes[errNum]]=errNum,vjs.MediaError.prototype[vjs.MediaError.errorTypes[errNum]]=errNum;!function(){var a,b,c,d;for(vjs.browser.fullscreenAPI,a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],b=a[0],d=0;d<a.length;d++)if(a[d][1]in document){c=a[d];break}if(c)for(vjs.browser.fullscreenAPI={},d=0;d<c.length;d++)vjs.browser.fullscreenAPI[b[d]]=c[d]}(),vjs.Player=vjs.Component.extend({init:function(a,b,c){this.tag=a,a.id=a.id||"vjs_video_"+vjs.guid++,b=vjs.obj.merge(this.getTagSettings(a),b),this.cache_={},this.poster_=b.poster,this.controls_=b.controls,a.controls=!1,b.reportTouchActivity=!1,vjs.Component.call(this,this,b,c),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),vjs.players[this.id_]=this,b.plugins&&vjs.obj.each(b.plugins,function(a,b){this[a](b)},this),this.listenForUserActivity()}}),vjs.Player.prototype.options_=vjs.options,vjs.Player.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),vjs.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.stopTrackingProgress(),this.stopTrackingCurrentTime(),this.tech&&this.tech.dispose(),vjs.Component.prototype.dispose.call(this)},vjs.Player.prototype.getTagSettings=function(a){var b={sources:[],tracks:[]};if(vjs.obj.merge(b,vjs.getAttributeValues(a)),a.hasChildNodes()){var c,d,e,f,g;for(c=a.childNodes,f=0,g=c.length;f<g;f++)d=c[f],e=d.nodeName.toLowerCase(),"source"===e?b.sources.push(vjs.getAttributeValues(d)):"track"===e&&b.tracks.push(vjs.getAttributeValues(d))}return b},vjs.Player.prototype.createEl=function(){var a=this.el_=vjs.Component.prototype.createEl.call(this,"div"),b=this.tag;if(b.removeAttribute("width"),b.removeAttribute("height"),b.hasChildNodes()){var c,d,e,f,g;for(c=b.childNodes,d=c.length,g=[];d--;)f=c[d],"track"===f.nodeName.toLowerCase()&&g.push(f);for(e=0;e<g.length;e++)b.removeChild(g[e])}return a.id=b.id,a.className=b.className,b.id+="_html5_api",b.className="vjs-tech",b.player=a.player=this,this.addClass("vjs-paused"),this.width(this.options_.width,!0),this.height(this.options_.height,!0),b.parentNode&&b.parentNode.insertBefore(a,b),vjs.insertFirst(b,a),this.el_=a,this.on("loadstart",this.onLoadStart),this.on("ended",this.onEnded),this.on("play",this.onPlay),this.on("firstplay",this.onFirstPlay),this.on("pause",this.onPause),this.on("progress",this.onProgress),this.on("durationchange",this.onDurationChange),this.on("fullscreenchange",this.onFullscreenChange),a},vjs.Player.prototype.loadTech=function(a,b){this.tech&&this.unloadTech(),"Html5"!==a&&this.tag&&(vjs.Html5.disposeMediaElement(this.tag),this.tag=null),this.techName=a,this.isReady_=!1;var c=function(){this.player_.triggerReady(),this.features.progressEvents||this.player_.manualProgressOn(),this.features.timeupdateEvents||this.player_.manualTimeUpdatesOn()},d=vjs.obj.merge({source:b,parentEl:this.el_},this.options_[a.toLowerCase()]);b&&(b.src==this.cache_.src&&this.cache_.currentTime>0&&(d.startTime=this.cache_.currentTime),this.cache_.src=b.src),this.tech=new window.videojs[a](this,d),this.tech.ready(c)},vjs.Player.prototype.unloadTech=function(){this.isReady_=!1,this.tech.dispose(),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),this.tech=!1},vjs.Player.prototype.manualProgressOn=function(){this.manualProgress=!0,this.trackProgress(),this.tech&&this.tech.one("progress",function(){this.features.progressEvents=!0,this.player_.manualProgressOff()})},vjs.Player.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress()},vjs.Player.prototype.trackProgress=function(){this.progressInterval=setInterval(vjs.bind(this,function(){this.cache_.bufferEnd<this.buffered().end(0)?this.trigger("progress"):1==this.bufferedPercent()&&(this.stopTrackingProgress(),this.trigger("progress"))}),500)},vjs.Player.prototype.stopTrackingProgress=function(){clearInterval(this.progressInterval)},vjs.Player.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime),this.tech&&this.tech.one("timeupdate",function(){this.features.timeupdateEvents=!0,this.player_.manualTimeUpdatesOff()})},vjs.Player.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},vjs.Player.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=setInterval(vjs.bind(this,function(){this.trigger("timeupdate")}),250)},vjs.Player.prototype.stopTrackingCurrentTime=function(){clearInterval(this.currentTimeInterval),this.trigger("timeupdate")},vjs.Player.prototype.onLoadStart=function(){this.error(null),this.paused()?(this.hasStarted(!1),this.one("play",function(){this.hasStarted(!0)})):this.trigger("firstplay")},vjs.Player.prototype.hasStarted_=!1,vjs.Player.prototype.hasStarted=function(a){return void 0!==a?(this.hasStarted_!==a&&(this.hasStarted_=a,a?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):this.hasStarted_},vjs.Player.prototype.onLoadedMetaData,vjs.Player.prototype.onLoadedData,vjs.Player.prototype.onLoadedAllData,vjs.Player.prototype.onPlay=function(){vjs.removeClass(this.el_,"vjs-paused"),vjs.addClass(this.el_,"vjs-playing")},vjs.Player.prototype.onFirstPlay=function(){this.options_.starttime&&this.currentTime(this.options_.starttime),this.addClass("vjs-has-started")},vjs.Player.prototype.onPause=function(){vjs.removeClass(this.el_,"vjs-playing"),vjs.addClass(this.el_,"vjs-paused")},vjs.Player.prototype.onTimeUpdate,vjs.Player.prototype.onProgress=function(){1==this.bufferedPercent()&&this.trigger("loadedalldata")},vjs.Player.prototype.onEnded=function(){this.options_.loop&&(this.currentTime(0),this.play())},vjs.Player.prototype.onDurationChange=function(){var a=this.techGet("duration");a&&(a<0&&(a=1/0),this.duration(a),a===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"))},vjs.Player.prototype.onVolumeChange,vjs.Player.prototype.onFullscreenChange=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},vjs.Player.prototype.cache_,vjs.Player.prototype.getCache=function(){return this.cache_},vjs.Player.prototype.techCall=function(a,b){if(this.tech&&!this.tech.isReady_)this.tech.ready(function(){this[a](b)});else try{this.tech[a](b)}catch(a){throw vjs.log(a),a}},vjs.Player.prototype.techGet=function(a){if(this.tech&&this.tech.isReady_)try{return this.tech[a]()}catch(b){throw void 0===this.tech[a]?vjs.log("Video.js: "+a+" method not defined for "+this.techName+" playback technology.",b):"TypeError"==b.name?(vjs.log("Video.js: "+a+" unavailable on "+this.techName+" playback technology element.",b),this.tech.isReady_=!1):vjs.log(b),b}},vjs.Player.prototype.play=function(){return this.techCall("play"),this},vjs.Player.prototype.pause=function(){return this.techCall("pause"),this},vjs.Player.prototype.paused=function(){return!1!==this.techGet("paused")},vjs.Player.prototype.currentTime=function(a){return void 0!==a?(this.techCall("setCurrentTime",a),this.manualTimeUpdates&&this.trigger("timeupdate"),this):this.cache_.currentTime=this.techGet("currentTime")||0},vjs.Player.prototype.duration=function(a){return void 0!==a?(this.cache_.duration=parseFloat(a),this):(void 0===this.cache_.duration&&this.onDurationChange(),this.cache_.duration||0)},vjs.Player.prototype.remainingTime=function(){return this.duration()-this.currentTime()},vjs.Player.prototype.buffered=function(){var a=this.techGet("buffered"),b=a.length-1,c=this.cache_.bufferEnd=this.cache_.bufferEnd||0;return a&&b>=0&&a.end(b)!==c&&(c=a.end(b),this.cache_.bufferEnd=c),vjs.createTimeRange(0,c)},vjs.Player.prototype.bufferedPercent=function(){return this.duration()?this.buffered().end(0)/this.duration():0},vjs.Player.prototype.volume=function(a){var b;return void 0!==a?(b=Math.max(0,Math.min(1,parseFloat(a))),this.cache_.volume=b,this.techCall("setVolume",b),vjs.setLocalStorage("volume",b),this):(b=parseFloat(this.techGet("volume")),isNaN(b)?1:b)},vjs.Player.prototype.muted=function(a){return void 0!==a?(this.techCall("setMuted",a),this):this.techGet("muted")||!1},vjs.Player.prototype.supportsFullScreen=function(){return this.techGet("supportsFullScreen")||!1},vjs.Player.prototype.isFullscreen_=!1,vjs.Player.prototype.isFullscreen=function(a){return void 0!==a?(this.isFullscreen_=!!a,this):this.isFullscreen_},vjs.Player.prototype.isFullScreen=function(a){return vjs.log.warn('player.isFullScreen() has been deprecated, use player.isFullscreen() with a lowercase "s")'),this.isFullscreen(a)},vjs.Player.prototype.requestFullscreen=function(){var a=vjs.browser.fullscreenAPI;return this.isFullscreen(!0),a?(vjs.on(document,a.fullscreenchange,vjs.bind(this,function(b){this.isFullscreen(document[a.fullscreenElement]),!1===this.isFullscreen()&&vjs.off(document,a.fullscreenchange,arguments.callee),this.trigger("fullscreenchange")})),this.el_[a.requestFullscreen]()):this.tech.supportsFullScreen()?this.techCall("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.requestFullScreen=function(){return vjs.log.warn('player.requestFullScreen() has been deprecated, use player.requestFullscreen() with a lowercase "s")'),this.requestFullscreen()},vjs.Player.prototype.exitFullscreen=function(){var a=vjs.browser.fullscreenAPI;return this.isFullscreen(!1),a?document[a.exitFullscreen]():this.tech.supportsFullScreen()?this.techCall("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.cancelFullScreen=function(){return vjs.log.warn("player.cancelFullScreen() has been deprecated, use player.exitFullscreen()"),this.exitFullscreen()},vjs.Player.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,vjs.on(document,"keydown",vjs.bind(this,this.fullWindowOnEscKey)),document.documentElement.style.overflow="hidden",vjs.addClass(document.body,"vjs-full-window"),this.trigger("enterFullWindow")},vjs.Player.prototype.fullWindowOnEscKey=function(a){27===a.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},vjs.Player.prototype.exitFullWindow=function(){this.isFullWindow=!1,vjs.off(document,"keydown",this.fullWindowOnEscKey),document.documentElement.style.overflow=this.docOrigOverflow,vjs.removeClass(document.body,"vjs-full-window"),this.trigger("exitFullWindow")},vjs.Player.prototype.selectSource=function(a){for(var b=0,c=this.options_.techOrder;b<c.length;b++){var d=vjs.capitalize(c[b]),e=window.videojs[d];if(e){if(e.isSupported())for(var f=0,g=a;f<g.length;f++){var h=g[f];if(e.canPlaySource(h))return{source:h,tech:d}}}else vjs.log.error('The "'+d+'" tech is undefined. Skipped browser support check for that tech.')}return!1},vjs.Player.prototype.src=function(a){if(void 0===a)return this.techGet("src");if(a instanceof Array){var b,c=this.selectSource(a);c?(a=c.source,b=c.tech,b==this.techName?this.src(a):this.loadTech(b,a)):(this.error({code:4,message:this.options().notSupportedMessage}),this.triggerReady())}else a instanceof Object?window.videojs[this.techName].canPlaySource(a)?this.src(a.src):this.src([a]):(this.cache_.src=a,this.isReady_?(this.techCall("src",a),"auto"==this.options_.preload&&this.load(),this.options_.autoplay&&this.play()):this.ready(function(){this.src(a)}));return this},vjs.Player.prototype.load=function(){return this.techCall("load"),this},vjs.Player.prototype.currentSrc=function(){return this.techGet("currentSrc")||this.cache_.src||""},vjs.Player.prototype.preload=function(a){return void 0!==a?(this.techCall("setPreload",a),this.options_.preload=a,this):this.techGet("preload")},vjs.Player.prototype.autoplay=function(a){return void 0!==a?(this.techCall("setAutoplay",a),this.options_.autoplay=a,this):this.techGet("autoplay",a)},vjs.Player.prototype.loop=function(a){return void 0!==a?(this.techCall("setLoop",a),this.options_.loop=a,this):this.techGet("loop")},vjs.Player.prototype.poster_,vjs.Player.prototype.poster=function(a){if(void 0===a)return this.poster_;this.poster_=a,this.techCall("setPoster",a),this.trigger("posterchange")},vjs.Player.prototype.controls_,vjs.Player.prototype.controls=function(a){return void 0!==a?(a=!!a,this.controls_!==a&&(this.controls_=a,a?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled")):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"))),this):this.controls_},vjs.Player.prototype.usingNativeControls_,vjs.Player.prototype.usingNativeControls=function(a){return void 0!==a?(a=!!a,this.usingNativeControls_!==a&&(this.usingNativeControls_=a,a?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):this.usingNativeControls_},vjs.Player.prototype.error_=null,vjs.Player.prototype.error=function(a){return void 0===a?this.error_:null===a?(this.error_=a,this.removeClass("vjs-error"),this):(a instanceof vjs.MediaError?this.error_=a:this.error_=new vjs.MediaError(a),this.trigger("error"),this.addClass("vjs-error"),vjs.log.error("(CODE:"+this.error_.code+" "+vjs.MediaError.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this)},vjs.Player.prototype.ended=function(){return this.techGet("ended")},vjs.Player.prototype.seeking=function(){return this.techGet("seeking")},vjs.Player.prototype.userActivity_=!0,vjs.Player.prototype.reportUserActivity=function(a){this.userActivity_=!0},vjs.Player.prototype.userActive_=!0,vjs.Player.prototype.userActive=function(a){return void 0!==a?(a=!!a,a!==this.userActive_&&(this.userActive_=a,a?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech&&this.tech.one("mousemove",function(a){a.stopPropagation(),a.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},vjs.Player.prototype.listenForUserActivity=function(){var a,b,c,d,e,f,g,h,i;a=vjs.bind(this,this.reportUserActivity),b=function(b){b.screenX==h&&b.screenY==i||(h=b.screenX,i=b.screenY,a())},c=function(){a(),clearInterval(d),d=setInterval(a,250)},e=function(b){a(),clearInterval(d)},this.on("mousedown",c),this.on("mousemove",b),this.on("mouseup",e),this.on("keydown",a),this.on("keyup",a),f=setInterval(vjs.bind(this,function(){this.userActivity_&&(this.userActivity_=!1,this.userActive(!0),clearTimeout(g),g=setTimeout(vjs.bind(this,function(){this.userActivity_||this.userActive(!1)}),2e3))}),250),this.on("dispose",function(){clearInterval(f),clearTimeout(g)})},vjs.Player.prototype.playbackRate=function(a){return void 0!==a?(this.techCall("setPlaybackRate",a),this):this.tech&&this.tech.features&&this.tech.features.playbackRate?this.techGet("playbackRate"):1},vjs.ControlBar=vjs.Component.extend(),vjs.ControlBar.prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},liveDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{},playbackRateMenuButton:{}}},vjs.ControlBar.prototype.createEl=function(){return vjs.createEl("div",{className:"vjs-control-bar"})},vjs.LiveDisplay=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b)}}),vjs.LiveDisplay.prototype.createEl=function(){var a=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-live-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">Stream Type </span>LIVE',"aria-live":"off"}),a.appendChild(this.contentEl_),a},vjs.PlayToggle=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b),a.on("play",vjs.bind(this,this.onPlay)),a.on("pause",vjs.bind(this,this.onPause))}}),vjs.PlayToggle.prototype.buttonText="Play",vjs.PlayToggle.prototype.buildCSSClass=function(){return"vjs-play-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.PlayToggle.prototype.onClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},vjs.PlayToggle.prototype.onPlay=function(){vjs.removeClass(this.el_,"vjs-paused"),vjs.addClass(this.el_,"vjs-playing"),this.el_.children[0].children[0].innerHTML="Pause"},vjs.PlayToggle.prototype.onPause=function(){vjs.removeClass(this.el_,"vjs-playing"),vjs.addClass(this.el_,"vjs-paused"),this.el_.children[0].children[0].innerHTML="Play"},vjs.CurrentTimeDisplay=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),a.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.CurrentTimeDisplay.prototype.createEl=function(){var a=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"}),a.appendChild(this.contentEl_),a},vjs.CurrentTimeDisplay.prototype.updateContent=function(){var a=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.contentEl_.innerHTML='<span class="vjs-control-text">Current Time </span>'+vjs.formatTime(a,this.player_.duration())},vjs.DurationDisplay=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),a.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.DurationDisplay.prototype.createEl=function(){var a=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">Duration Time </span>0:00',"aria-live":"off"}),a.appendChild(this.contentEl_),a},vjs.DurationDisplay.prototype.updateContent=function(){var a=this.player_.duration();a&&(this.contentEl_.innerHTML='<span class="vjs-control-text">Duration Time </span>'+vjs.formatTime(a))},vjs.TimeDivider=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b)}}),vjs.TimeDivider.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},vjs.RemainingTimeDisplay=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),a.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.RemainingTimeDisplay.prototype.createEl=function(){var a=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">Remaining Time </span>-0:00',"aria-live":"off"}),a.appendChild(this.contentEl_),a},vjs.RemainingTimeDisplay.prototype.updateContent=function(){this.player_.duration()&&(this.contentEl_.innerHTML='<span class="vjs-control-text">Remaining Time </span>-'+vjs.formatTime(this.player_.remainingTime()))},vjs.FullscreenToggle=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b)}}),vjs.FullscreenToggle.prototype.buttonText="Fullscreen",vjs.FullscreenToggle.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.FullscreenToggle.prototype.onClick=function(){this.player_.isFullscreen()?(this.player_.exitFullscreen(),this.controlText_.innerHTML="Fullscreen"):(this.player_.requestFullscreen(),this.controlText_.innerHTML="Non-Fullscreen")},vjs.ProgressControl=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b)}}),vjs.ProgressControl.prototype.options_={children:{seekBar:{}}},vjs.ProgressControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},vjs.SeekBar=vjs.Slider.extend({init:function(a,b){vjs.Slider.call(this,a,b),a.on("timeupdate",vjs.bind(this,this.updateARIAAttributes)),a.ready(vjs.bind(this,this.updateARIAAttributes))}}),vjs.SeekBar.prototype.options_={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"},vjs.SeekBar.prototype.playerEvent="timeupdate",vjs.SeekBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})},vjs.SeekBar.prototype.updateARIAAttributes=function(){var a=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("aria-valuenow",vjs.round(100*this.getPercent(),2)),this.el_.setAttribute("aria-valuetext",vjs.formatTime(a,this.player_.duration()))},vjs.SeekBar.prototype.getPercent=function(){return this.player_.currentTime()/this.player_.duration()},vjs.SeekBar.prototype.onMouseDown=function(a){vjs.Slider.prototype.onMouseDown.call(this,a),this.player_.scrubbing=!0,this.videoWasPlaying=!this.player_.paused(),this.player_.pause()},vjs.SeekBar.prototype.onMouseMove=function(a){var b=this.calculateDistance(a)*this.player_.duration();b==this.player_.duration()&&(b-=.1),this.player_.currentTime(b)},vjs.SeekBar.prototype.onMouseUp=function(a){vjs.Slider.prototype.onMouseUp.call(this,a),this.player_.scrubbing=!1,this.videoWasPlaying&&this.player_.play()},vjs.SeekBar.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},vjs.SeekBar.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},vjs.LoadProgressBar=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),a.on("progress",vjs.bind(this,this.update))}}),vjs.LoadProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})},vjs.LoadProgressBar.prototype.update=function(){this.el_.style&&(this.el_.style.width=vjs.round(100*this.player_.bufferedPercent(),2)+"%")},vjs.PlayProgressBar=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b)}}),vjs.PlayProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})},vjs.SeekHandle=vjs.SliderHandle.extend({init:function(a,b){vjs.SliderHandle.call(this,a,b),a.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.SeekHandle.prototype.defaultValue="00:00",vjs.SeekHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-seek-handle","aria-live":"off"})},vjs.SeekHandle.prototype.updateContent=function(){var a=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.innerHTML='<span class="vjs-control-text">'+vjs.formatTime(a,this.player_.duration())+"</span>"},vjs.VolumeControl=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),a.tech&&a.tech.features&&!1===a.tech.features.volumeControl&&this.addClass("vjs-hidden"),a.on("loadstart",vjs.bind(this,function(){a.tech.features&&!1===a.tech.features.volumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}}),vjs.VolumeControl.prototype.options_={children:{volumeBar:{}}},vjs.VolumeControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},vjs.VolumeBar=vjs.Slider.extend({init:function(a,b){vjs.Slider.call(this,a,b),a.on("volumechange",vjs.bind(this,this.updateARIAAttributes)),a.ready(vjs.bind(this,this.updateARIAAttributes))}}),vjs.VolumeBar.prototype.updateARIAAttributes=function(){this.el_.setAttribute("aria-valuenow",vjs.round(100*this.player_.volume(),2)),this.el_.setAttribute("aria-valuetext",vjs.round(100*this.player_.volume(),2)+"%")},vjs.VolumeBar.prototype.options_={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"},vjs.VolumeBar.prototype.playerEvent="volumechange",vjs.VolumeBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})},vjs.VolumeBar.prototype.onMouseMove=function(a){this.player_.muted()&&this.player_.muted(!1),this.player_.volume(this.calculateDistance(a))},vjs.VolumeBar.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},vjs.VolumeBar.prototype.stepForward=function(){this.player_.volume(this.player_.volume()+.1)},vjs.VolumeBar.prototype.stepBack=function(){this.player_.volume(this.player_.volume()-.1)},vjs.VolumeLevel=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b)}}),vjs.VolumeLevel.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},vjs.VolumeHandle=vjs.SliderHandle.extend(),vjs.VolumeHandle.prototype.defaultValue="00:00",vjs.VolumeHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-volume-handle"})},vjs.MuteToggle=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b),a.on("volumechange",vjs.bind(this,this.update)),a.tech&&a.tech.features&&!1===a.tech.features.volumeControl&&this.addClass("vjs-hidden"),a.on("loadstart",vjs.bind(this,function(){a.tech.features&&!1===a.tech.features.volumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}}),vjs.MuteToggle.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},vjs.MuteToggle.prototype.onClick=function(){this.player_.muted(!this.player_.muted())},vjs.MuteToggle.prototype.update=function(){var a=this.player_.volume(),b=3;0===a||this.player_.muted()?b=0:a<.33?b=1:a<.67&&(b=2),this.player_.muted()?"Unmute"!=this.el_.children[0].children[0].innerHTML&&(this.el_.children[0].children[0].innerHTML="Unmute"):"Mute"!=this.el_.children[0].children[0].innerHTML&&(this.el_.children[0].children[0].innerHTML="Mute");for(var c=0;c<4;c++)vjs.removeClass(this.el_,"vjs-vol-"+c);vjs.addClass(this.el_,"vjs-vol-"+b)},vjs.VolumeMenuButton=vjs.MenuButton.extend({init:function(a,b){vjs.MenuButton.call(this,a,b),a.on("volumechange",vjs.bind(this,this.update)),a.tech&&a.tech.features&&!1===a.tech.features.volumeControl&&this.addClass("vjs-hidden"),a.on("loadstart",vjs.bind(this,function(){a.tech.features&&!1===a.tech.features.volumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})),this.addClass("vjs-menu-button")}}),vjs.VolumeMenuButton.prototype.createMenu=function(){var a=new vjs.Menu(this.player_,{contentElType:"div"}),b=new vjs.VolumeBar(this.player_,vjs.obj.merge({vertical:!0},this.options_.volumeBar));return a.addChild(b),a},vjs.VolumeMenuButton.prototype.onClick=function(){vjs.MuteToggle.prototype.onClick.call(this),vjs.MenuButton.prototype.onClick.call(this)},vjs.VolumeMenuButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},vjs.VolumeMenuButton.prototype.update=vjs.MuteToggle.prototype.update,vjs.PlaybackRateMenuButton=vjs.MenuButton.extend({init:function(a,b){vjs.MenuButton.call(this,a,b),this.updateVisibility(),this.updateLabel(),a.on("loadstart",vjs.bind(this,this.updateVisibility)),a.on("ratechange",vjs.bind(this,this.updateLabel))}}),vjs.PlaybackRateMenuButton.prototype.createEl=function(){var a=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-playback-rate vjs-menu-button vjs-control",innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">Playback Rate</span></div>'});return this.labelEl_=vjs.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),a.appendChild(this.labelEl_),a},vjs.PlaybackRateMenuButton.prototype.createMenu=function(){var a=new vjs.Menu(this.player()),b=this.player().options().playbackRates;if(b)for(var c=b.length-1;c>=0;c--)a.addChild(new vjs.PlaybackRateMenuItem(this.player(),{rate:b[c]+"x"}));return a},vjs.PlaybackRateMenuButton.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},vjs.PlaybackRateMenuButton.prototype.onClick=function(){for(var a=this.player().playbackRate(),b=this.player().options().playbackRates,c=b[0],d=0;d<b.length;d++)if(b[d]>a){c=b[d];break}this.player().playbackRate(c)},vjs.PlaybackRateMenuButton.prototype.playbackRateSupported=function(){return this.player().tech&&this.player().tech.features.playbackRate&&this.player().options().playbackRates&&this.player().options().playbackRates.length>0},vjs.PlaybackRateMenuButton.prototype.updateVisibility=function(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},vjs.PlaybackRateMenuButton.prototype.updateLabel=function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},vjs.PlaybackRateMenuItem=vjs.MenuItem.extend({contentElType:"button",init:function(a,b){var c=this.label=b.rate,d=this.rate=parseFloat(c,10);b.label=c,b.selected=1===d,vjs.MenuItem.call(this,a,b),this.player().on("ratechange",vjs.bind(this,this.update))}}),vjs.PlaybackRateMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player().playbackRate(this.rate)},vjs.PlaybackRateMenuItem.prototype.update=function(){this.selected(this.player().playbackRate()==this.rate)},vjs.PosterImage=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b),a.poster()&&this.src(a.poster()),a.poster()&&a.controls()||this.hide(),a.on("posterchange",vjs.bind(this,function(){this.src(a.poster())})),a.on("play",vjs.bind(this,this.hide))}});var _backgroundSizeSupported="backgroundSize"in vjs.TEST_VID.style;vjs.PosterImage.prototype.createEl=function(){var a=vjs.createEl("div",{className:"vjs-poster",tabIndex:-1});return _backgroundSizeSupported||a.appendChild(vjs.createEl("img")),a},vjs.PosterImage.prototype.src=function(a){var b=this.el();void 0!==a&&(_backgroundSizeSupported?b.style.backgroundImage='url("'+a+'")':b.firstChild.src=a)},vjs.PosterImage.prototype.onClick=function(){this.player().controls()&&this.player_.play()},vjs.LoadingSpinner=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),a.on("canplay",vjs.bind(this,this.hide)),a.on("canplaythrough",vjs.bind(this,this.hide)),a.on("playing",vjs.bind(this,this.hide)),a.on("seeking",vjs.bind(this,this.show)),a.on("seeked",vjs.bind(this,this.hide)),a.on("ended",vjs.bind(this,this.hide)),a.on("waiting",vjs.bind(this,this.show))}}),vjs.LoadingSpinner.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner"})},vjs.BigPlayButton=vjs.Button.extend(),vjs.BigPlayButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-big-play-button",innerHTML:'<span aria-hidden="true"></span>',"aria-label":"play video"})},vjs.BigPlayButton.prototype.onClick=function(){this.player_.play()},vjs.ErrorDisplay=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),this.update(),a.on("error",vjs.bind(this,this.update))}}),vjs.ErrorDisplay.prototype.createEl=function(){var a=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-error-display"});return this.contentEl_=vjs.createEl("div"),a.appendChild(this.contentEl_),a},vjs.ErrorDisplay.prototype.update=function(){this.player().error()&&(this.contentEl_.innerHTML=this.player().error().message)},vjs.MediaTechController=vjs.Component.extend({init:function(a,b,c){b=b||{},b.reportTouchActivity=!1,vjs.Component.call(this,a,b,c),this.initControlsListeners()}}),vjs.MediaTechController.prototype.initControlsListeners=function(){var a,b,c,d;b=this,a=this.player();var c=function(){a.controls()&&!a.usingNativeControls()&&b.addControlsListeners()};d=vjs.bind(b,b.removeControlsListeners),this.ready(c),a.on("controlsenabled",c),a.on("controlsdisabled",d),this.ready(function(){this.networkState&&this.networkState()>0&&this.player().trigger("loadstart")})},vjs.MediaTechController.prototype.addControlsListeners=function(){var a;this.on("mousedown",this.onClick),this.on("touchstart",function(b){b.preventDefault(),a=this.player_.userActive()}),this.on("touchmove",function(b){a&&this.player().reportUserActivity()}),this.emitTapEvents(),this.on("tap",this.onTap)},vjs.MediaTechController.prototype.removeControlsListeners=function(){this.off("tap"),this.off("touchstart"),this.off("touchmove"),this.off("touchleave"),this.off("touchcancel"),this.off("touchend"),this.off("click"),this.off("mousedown")},vjs.MediaTechController.prototype.onClick=function(a){0===a.button&&this.player().controls()&&(this.player().paused()?this.player().play():this.player().pause())},vjs.MediaTechController.prototype.onTap=function(){this.player().userActive(!this.player().userActive())},vjs.MediaTechController.prototype.setPoster=function(){},vjs.MediaTechController.prototype.features={volumeControl:!0,fullscreenResize:!1,playbackRate:!1,progressEvents:!1,timeupdateEvents:!1},vjs.media={},vjs.Html5=vjs.MediaTechController.extend({init:function(a,b,c){this.features.volumeControl=vjs.Html5.canControlVolume(),this.features.playbackRate=vjs.Html5.canControlPlaybackRate(),this.features.movingMediaElementInDOM=!vjs.IS_IOS,this.features.fullscreenResize=!0,vjs.MediaTechController.call(this,a,b,c),this.setupTriggers();var d=b.source;d&&this.el_.currentSrc!==d.src&&(this.el_.src=d.src),vjs.TOUCH_ENABLED&&!1!==a.options().nativeControlsForTouch&&this.useNativeControls(),a.ready(function(){this.tag&&this.options_.autoplay&&this.paused()&&(delete this.tag.poster,this.play())}),this.triggerReady()}}),vjs.Html5.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)},vjs.Html5.prototype.createEl=function(){var a,b=this.player_,c=b.tag;c&&!1!==this.features.movingMediaElementInDOM||(c?(a=c.cloneNode(!1),vjs.Html5.disposeMediaElement(c),c=a,b.tag=null):c=vjs.createEl("video",{id:b.id()+"_html5_api",className:"vjs-tech"}),c.player=b,vjs.insertFirst(c,b.el()));for(var d=["autoplay","preload","loop","muted"],e=d.length-1;e>=0;e--){var f=d[e];null!==b.options_[f]&&(c[f]=b.options_[f])}return c},vjs.Html5.prototype.setupTriggers=function(){for(var a=vjs.Html5.Events.length-1;a>=0;a--)vjs.on(this.el_,vjs.Html5.Events[a],vjs.bind(this,this.eventHandler))},vjs.Html5.prototype.eventHandler=function(a){"error"==a.type?this.player().error(this.error().code):(a.bubbles=!1,this.player().trigger(a))},vjs.Html5.prototype.useNativeControls=function(){var a,b,c,d,e;a=this,b=this.player(),a.setControls(b.controls()),c=function(){a.setControls(!0)},d=function(){a.setControls(!1)},b.on("controlsenabled",c),b.on("controlsdisabled",d),e=function(){b.off("controlsenabled",c),b.off("controlsdisabled",d)},a.on("dispose",e),b.on("usingcustomcontrols",e),b.usingNativeControls(!0)},vjs.Html5.prototype.play=function(){this.el_.play()},vjs.Html5.prototype.pause=function(){this.el_.pause()},vjs.Html5.prototype.paused=function(){return this.el_.paused},vjs.Html5.prototype.currentTime=function(){return this.el_.currentTime},vjs.Html5.prototype.setCurrentTime=function(a){try{this.el_.currentTime=a}catch(a){vjs.log(a,"Video is not ready. (Video.js)")}},vjs.Html5.prototype.duration=function(){return this.el_.duration||0},vjs.Html5.prototype.buffered=function(){return this.el_.buffered},vjs.Html5.prototype.volume=function(){return this.el_.volume},vjs.Html5.prototype.setVolume=function(a){this.el_.volume=a},vjs.Html5.prototype.muted=function(){return this.el_.muted},vjs.Html5.prototype.setMuted=function(a){this.el_.muted=a},vjs.Html5.prototype.width=function(){return this.el_.offsetWidth},vjs.Html5.prototype.height=function(){return this.el_.offsetHeight},vjs.Html5.prototype.supportsFullScreen=function(){return!("function"!=typeof this.el_.webkitEnterFullScreen||!/Android/.test(vjs.USER_AGENT)&&/Chrome|Mac OS X 10.5/.test(vjs.USER_AGENT))},vjs.Html5.prototype.enterFullScreen=function(){var a=this.el_;a.paused&&a.networkState<=a.HAVE_METADATA?(this.el_.play(),setTimeout(function(){a.pause(),a.webkitEnterFullScreen()},0)):a.webkitEnterFullScreen()},vjs.Html5.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},vjs.Html5.prototype.src=function(a){this.el_.src=a},vjs.Html5.prototype.load=function(){this.el_.load()},vjs.Html5.prototype.currentSrc=function(){return this.el_.currentSrc},vjs.Html5.prototype.poster=function(){return this.el_.poster},vjs.Html5.prototype.setPoster=function(a){this.el_.poster=a},vjs.Html5.prototype.preload=function(){return this.el_.preload},vjs.Html5.prototype.setPreload=function(a){this.el_.preload=a},vjs.Html5.prototype.autoplay=function(){return this.el_.autoplay},vjs.Html5.prototype.setAutoplay=function(a){this.el_.autoplay=a},vjs.Html5.prototype.controls=function(){return this.el_.controls},vjs.Html5.prototype.setControls=function(a){this.el_.controls=!!a},vjs.Html5.prototype.loop=function(){return this.el_.loop},vjs.Html5.prototype.setLoop=function(a){this.el_.loop=a},vjs.Html5.prototype.error=function(){return this.el_.error},vjs.Html5.prototype.seeking=function(){return this.el_.seeking},vjs.Html5.prototype.ended=function(){return this.el_.ended},vjs.Html5.prototype.defaultMuted=function(){return this.el_.defaultMuted},vjs.Html5.prototype.playbackRate=function(){return this.el_.playbackRate},vjs.Html5.prototype.setPlaybackRate=function(a){this.el_.playbackRate=a},vjs.Html5.prototype.networkState=function(){return this.el_.networkState},vjs.Html5.isSupported=function(){try{vjs.TEST_VID.volume=.5}catch(a){return!1}return!!vjs.TEST_VID.canPlayType},vjs.Html5.canPlaySource=function(a){try{return!!vjs.TEST_VID.canPlayType(a.type)}catch(a){return""}},vjs.Html5.canControlVolume=function(){var a=vjs.TEST_VID.volume;return vjs.TEST_VID.volume=a/2+.1,a!==vjs.TEST_VID.volume},vjs.Html5.canControlPlaybackRate=function(){var a=vjs.TEST_VID.playbackRate;return vjs.TEST_VID.playbackRate=a/2+.1,a!==vjs.TEST_VID.playbackRate},function(){var a,b=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,c=/^video\/mp4/i;vjs.Html5.patchCanPlayType=function(){vjs.ANDROID_VERSION>=4&&(a||(a=vjs.TEST_VID.constructor.prototype.canPlayType),vjs.TEST_VID.constructor.prototype.canPlayType=function(c){return c&&b.test(c)?"maybe":a.call(this,c)}),vjs.IS_OLD_ANDROID&&(a||(a=vjs.TEST_VID.constructor.prototype.canPlayType),vjs.TEST_VID.constructor.prototype.canPlayType=function(b){return b&&c.test(b)?"maybe":a.call(this,b)})},vjs.Html5.unpatchCanPlayType=function(){var b=vjs.TEST_VID.constructor.prototype.canPlayType;return vjs.TEST_VID.constructor.prototype.canPlayType=a,a=null,b},vjs.Html5.patchCanPlayType()}(),vjs.Html5.Events="loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange".split(","),vjs.Html5.disposeMediaElement=function(a){if(a){for(a.player=null,a.parentNode&&a.parentNode.removeChild(a);a.hasChildNodes();)a.removeChild(a.firstChild);a.removeAttribute("src"),"function"==typeof a.load&&function(){try{a.load()}catch(a){}}()}},vjs.Flash=vjs.MediaTechController.extend({init:function(a,b,c){vjs.MediaTechController.call(this,a,b,c);var d,e=b.source,f=b.parentEl,g=this.el_=vjs.createEl("div",{id:a.id()+"_temp_flash"}),h=a.id()+"_flash_api",i=a.options_,j=vjs.obj.merge({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:i.autoplay,preload:i.preload,loop:i.loop,muted:i.muted},b.flashVars),k=vjs.obj.merge({wmode:"opaque",bgcolor:"#000000"},b.params),l=vjs.obj.merge({id:h,name:h,class:"vjs-tech"},b.attributes);if(e)if(e.type&&vjs.Flash.isStreamingType(e.type)){var m=vjs.Flash.streamToParts(e.src);j.rtmpConnection=encodeURIComponent(m.connection),j.rtmpStream=encodeURIComponent(m.stream)}else j.src=encodeURIComponent(vjs.getAbsoluteURL(e.src));if(this.setCurrentTime=function(a){d=a,this.el_.vjs_setProperty("currentTime",a)},this.currentTime=function(a){return this.seeking()?d:this.el_.vjs_getProperty("currentTime")},vjs.insertFirst(g,f),b.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(b.startTime)}),vjs.IS_FIREFOX&&this.ready(function(){vjs.on(this.el(),"mousemove",vjs.bind(this,function(){this.player().trigger({type:"mousemove",bubbles:!1})}))}),!0!==b.iFrameMode||vjs.IS_FIREFOX)vjs.Flash.embed(b.swf,g,j,k,l);else{var n=vjs.createEl("iframe",{id:h+"_iframe",name:h+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,style:"border: 0"});j.readyFunction="ready",j.eventProxyFunction="events",j.errorEventProxyFunction="errors",vjs.on(n,"load",vjs.bind(this,function(){var a,c=n.contentWindow;a=n.contentDocument?n.contentDocument:n.contentWindow.document,a.write(vjs.Flash.getEmbedCode(b.swf,j,k,l)),c.player=this.player_,c.ready=vjs.bind(this.player_,function(b){var c=a.getElementById(b),d=this,e=d.tech;e.el_=c,vjs.Flash.checkReady(e)}),c.events=vjs.bind(this.player_,function(a,b){var c=this;c&&"flash"===c.techName&&c.trigger(b)}),c.errors=vjs.bind(this.player_,function(a,b){vjs.log("Flash Error",b)})})),g.parentNode.replaceChild(n,g)}}}),vjs.Flash.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)},vjs.Flash.prototype.play=function(){this.el_.vjs_play()},vjs.Flash.prototype.pause=function(){this.el_.vjs_pause()},vjs.Flash.prototype.src=function(a){if(void 0===a)return this.currentSrc();if(vjs.Flash.isStreamingSrc(a)?(a=vjs.Flash.streamToParts(a),this.setRtmpConnection(a.connection),this.setRtmpStream(a.stream)):(a=vjs.getAbsoluteURL(a),this.el_.vjs_src(a)),this.player_.autoplay()){var b=this;setTimeout(function(){b.play()},0)}},vjs.Flash.prototype.currentSrc=function(){var a=this.el_.vjs_getProperty("currentSrc");if(null==a){var b=this.rtmpConnection(),c=this.rtmpStream();b&&c&&(a=vjs.Flash.streamFromParts(b,c))}return a},vjs.Flash.prototype.load=function(){this.el_.vjs_load()},vjs.Flash.prototype.poster=function(){this.el_.vjs_getProperty("poster")},vjs.Flash.prototype.setPoster=function(){},vjs.Flash.prototype.buffered=function(){return vjs.createTimeRange(0,this.el_.vjs_getProperty("buffered"))},vjs.Flash.prototype.supportsFullScreen=function(){return!1},vjs.Flash.prototype.enterFullScreen=function(){return!1};var api=vjs.Flash.prototype,readWrite="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),readOnly="error,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks".split(","),createSetter=function(a){var b=a.charAt(0).toUpperCase()+a.slice(1);api["set"+b]=function(b){return this.el_.vjs_setProperty(a,b)}},createGetter=function(a){api[a]=function(){return this.el_.vjs_getProperty(a)}};if(function(){var a;for(a=0;a<readWrite.length;a++)createGetter(readWrite[a]),createSetter(readWrite[a]);for(a=0;a<readOnly.length;a++)createGetter(readOnly[a])}(),vjs.Flash.isSupported=function(){return vjs.Flash.version()[0]>=10},vjs.Flash.canPlaySource=function(a){var b;return a.type?(b=a.type.replace(/;.*/,"").toLowerCase(),b in vjs.Flash.formats||b in vjs.Flash.streamingFormats?"maybe":void 0):""},vjs.Flash.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},vjs.Flash.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},vjs.Flash.onReady=function(a){var b=vjs.el(a),c=b.player||b.parentNode.player,d=c.tech;b.player=c,d.el_=b,vjs.Flash.checkReady(d)},vjs.Flash.checkReady=function(a){a.el().vjs_getProperty?a.triggerReady():setTimeout(function(){vjs.Flash.checkReady(a)},50)},vjs.Flash.onEvent=function(a,b){vjs.el(a).player.trigger(b)},vjs.Flash.onError=function(a,b){var c=vjs.el(a).player,d="FLASH: "+b;"srcnotfound"==b?c.error({code:4,message:d}):c.error(d)},vjs.Flash.version=function(){var a="0,0,0";try{a=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(b){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(a=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(a){}}return a.split(",")},vjs.Flash.embed=function(a,b,c,d,e){var f=vjs.Flash.getEmbedCode(a,c,d,e),g=vjs.createEl("div",{innerHTML:f}).childNodes[0],h=b.parentNode;b.parentNode.replaceChild(g,b);var i=h.childNodes[0];return setTimeout(function(){i.style.display="block"},1e3),g},vjs.Flash.getEmbedCode=function(a,b,c,d){var e="",f="",g="";return b&&vjs.obj.each(b,function(a,b){e+=a+"="+b+"&amp;"}),c=vjs.obj.merge({movie:a,flashvars:e,allowScriptAccess:"always",allowNetworking:"all"},c),vjs.obj.each(c,function(a,b){f+='<param name="'+a+'" value="'+b+'" />'}),d=vjs.obj.merge({data:a,width:"100%",height:"100%"},d),vjs.obj.each(d,function(a,b){g+=a+'="'+b+'" '}),'<object type="application/x-shockwave-flash"'+g+">"+f+"</object>"},vjs.Flash.streamFromParts=function(a,b){return a+"&"+b},vjs.Flash.streamToParts=function(a){var b={connection:"",stream:""};if(!a)return b;var c,d=a.indexOf("&");return-1!==d?c=d+1:0===(d=c=a.lastIndexOf("/")+1)&&(d=c=a.length),b.connection=a.substring(0,d),b.stream=a.substring(c,a.length),b},vjs.Flash.isStreamingType=function(a){return a in vjs.Flash.streamingFormats},vjs.Flash.RTMP_RE=/^rtmp[set]?:\/\//i,vjs.Flash.isStreamingSrc=function(a){return vjs.Flash.RTMP_RE.test(a)},vjs.MediaLoader=vjs.Component.extend({init:function(a,b,c){if(vjs.Component.call(this,a,b,c),a.options_.sources&&0!==a.options_.sources.length)a.src(a.options_.sources);else for(var d=0,e=a.options_.techOrder;d<e.length;d++){var f=vjs.capitalize(e[d]),g=window.videojs[f];if(g&&g.isSupported()){a.loadTech(f);break}}}}),vjs.Player.prototype.textTracks_,vjs.Player.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||[],this.textTracks_},vjs.Player.prototype.addTextTrack=function(a,b,c,d){var e=this.textTracks_=this.textTracks_||[];d=d||{},d.kind=a,d.label=b,d.language=c;var f=vjs.capitalize(a||"subtitles"),g=new window.videojs[f+"Track"](this,d);return e.push(g),g.dflt()&&this.ready(function(){setTimeout(function(){g.show()},0)}),g},vjs.Player.prototype.addTextTracks=function(a){for(var b,c=0;c<a.length;c++)b=a[c],this.addTextTrack(b.kind,b.label,b.language,b);return this},vjs.Player.prototype.showTextTrack=function(a,b){for(var c,d,e,f=this.textTracks_,g=0,h=f.length;g<h;g++)c=f[g],c.id()===a?(c.show(),d=c):b&&c.kind()==b&&c.mode()>0&&c.disable();return e=d?d.kind():b||!1,e&&this.trigger(e+"trackchange"),this},vjs.TextTrack=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),this.id_=b.id||"vjs_"+b.kind+"_"+b.language+"_"+vjs.guid++,this.src_=b.src,this.dflt_=b.default||b.dflt,this.title_=b.title,this.language_=b.srclang,this.label_=b.label,this.cues_=[],this.activeCues_=[],this.readyState_=0,this.mode_=0,this.player_.on("fullscreenchange",vjs.bind(this,this.adjustFontSize))}}),vjs.TextTrack.prototype.kind_,vjs.TextTrack.prototype.kind=function(){return this.kind_},vjs.TextTrack.prototype.src_,vjs.TextTrack.prototype.src=function(){return this.src_},vjs.TextTrack.prototype.dflt_,vjs.TextTrack.prototype.dflt=function(){return this.dflt_},vjs.TextTrack.prototype.title_,vjs.TextTrack.prototype.title=function(){return this.title_},vjs.TextTrack.prototype.language_,vjs.TextTrack.prototype.language=function(){return this.language_},vjs.TextTrack.prototype.label_,vjs.TextTrack.prototype.label=function(){return this.label_},vjs.TextTrack.prototype.cues_,vjs.TextTrack.prototype.cues=function(){return this.cues_},vjs.TextTrack.prototype.activeCues_,vjs.TextTrack.prototype.activeCues=function(){return this.activeCues_},vjs.TextTrack.prototype.readyState_,vjs.TextTrack.prototype.readyState=function(){return this.readyState_},vjs.TextTrack.prototype.mode_,vjs.TextTrack.prototype.mode=function(){return this.mode_},vjs.TextTrack.prototype.adjustFontSize=function(){this.player_.isFullScreen()?this.el_.style.fontSize=screen.width/this.player_.width()*1.4*100+"%":this.el_.style.fontSize=""},vjs.TextTrack.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-"+this.kind_+" vjs-text-track"})},vjs.TextTrack.prototype.show=function(){this.activate(),this.mode_=2,vjs.Component.prototype.show.call(this)},vjs.TextTrack.prototype.hide=function(){this.activate(),this.mode_=1,vjs.Component.prototype.hide.call(this)},vjs.TextTrack.prototype.disable=function(){2==this.mode_&&this.hide(),this.deactivate(),this.mode_=0},vjs.TextTrack.prototype.activate=function(){0===this.readyState_&&this.load(),0===this.mode_&&(this.player_.on("timeupdate",vjs.bind(this,this.update,this.id_)),this.player_.on("ended",vjs.bind(this,this.reset,this.id_)),"captions"!==this.kind_&&"subtitles"!==this.kind_||this.player_.getChild("textTrackDisplay").addChild(this))},vjs.TextTrack.prototype.deactivate=function(){this.player_.off("timeupdate",vjs.bind(this,this.update,this.id_)),this.player_.off("ended",vjs.bind(this,this.reset,this.id_)),this.reset(),this.player_.getChild("textTrackDisplay").removeChild(this)},vjs.TextTrack.prototype.load=function(){0===this.readyState_&&(this.readyState_=1,vjs.get(this.src_,vjs.bind(this,this.parseCues),vjs.bind(this,this.onError)))},vjs.TextTrack.prototype.onError=function(a){this.error=a,this.readyState_=3,this.trigger("error")},vjs.TextTrack.prototype.parseCues=function(a){for(var b,c,d,e,f=a.split("\n"),g="",h=1,i=f.length;h<i;h++)if(g=vjs.trim(f[h])){for(-1==g.indexOf("--\x3e")?(e=g,g=vjs.trim(f[++h])):e=this.cues_.length,b={id:e,index:this.cues_.length},c=g.split(" --\x3e "),b.startTime=this.parseCueTime(c[0]),b.endTime=this.parseCueTime(c[1]),d=[];f[++h]&&(g=vjs.trim(f[h]));)d.push(g);b.text=d.join("<br/>"),this.cues_.push(b)}this.readyState_=2,this.trigger("loaded")},vjs.TextTrack.prototype.parseCueTime=function(a){var b,c,d,e,f,g=a.split(":"),h=0;return 3==g.length?(b=g[0],c=g[1],d=g[2]):(b=0,c=g[0],d=g[1]),d=d.split(/\s+/),e=d.splice(0,1)[0],e=e.split(/\.|,/),f=parseFloat(e[1]),e=e[0],h+=3600*parseFloat(b),h+=60*parseFloat(c),h+=parseFloat(e),f&&(h+=f/1e3),h},vjs.TextTrack.prototype.update=function(){if(this.cues_.length>0){var a=this.player_.options().trackTimeOffset||0,b=this.player_.currentTime()+a;if(void 0===this.prevChange||b<this.prevChange||this.nextChange<=b){var c,d,e,f,g=this.cues_,h=this.player_.duration(),i=0,j=!1,k=[];for(b>=this.nextChange||void 0===this.nextChange?f=void 0!==this.firstActiveIndex?this.firstActiveIndex:0:(j=!0,f=void 0!==this.lastActiveIndex?this.lastActiveIndex:g.length-1);;){if(e=g[f],e.endTime<=b)i=Math.max(i,e.endTime),e.active&&(e.active=!1);else if(b<e.startTime){if(h=Math.min(h,e.startTime),e.active&&(e.active=!1),!j)break}else j?(k.splice(0,0,e),void 0===d&&(d=f),c=f):(k.push(e),void 0===c&&(c=f),d=f),h=Math.min(h,e.endTime),i=Math.max(i,e.startTime),e.active=!0;if(j){if(0===f)break;f--}else{if(f===g.length-1)break;f++}}this.activeCues_=k,this.nextChange=h,this.prevChange=i,this.firstActiveIndex=c,this.lastActiveIndex=d,this.updateDisplay(),this.trigger("cuechange")}}},vjs.TextTrack.prototype.updateDisplay=function(){for(var a=this.activeCues_,b="",c=0,d=a.length;c<d;c++)b+='<span class="vjs-tt-cue">'+a[c].text+"</span>";this.el_.innerHTML=b},vjs.TextTrack.prototype.reset=function(){this.nextChange=0,this.prevChange=this.player_.duration(),this.firstActiveIndex=0,this.lastActiveIndex=0},vjs.CaptionsTrack=vjs.TextTrack.extend(),vjs.CaptionsTrack.prototype.kind_="captions",vjs.SubtitlesTrack=vjs.TextTrack.extend(),vjs.SubtitlesTrack.prototype.kind_="subtitles",vjs.ChaptersTrack=vjs.TextTrack.extend(),vjs.ChaptersTrack.prototype.kind_="chapters",vjs.TextTrackDisplay=vjs.Component.extend({init:function(a,b,c){vjs.Component.call(this,a,b,c),a.options_.tracks&&a.options_.tracks.length>0&&this.player_.addTextTracks(a.options_.tracks)}}),vjs.TextTrackDisplay.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"})},vjs.TextTrackMenuItem=vjs.MenuItem.extend({init:function(a,b){var c=this.track=b.track;b.label=c.label(),b.selected=c.dflt(),vjs.MenuItem.call(this,a,b),this.player_.on(c.kind()+"trackchange",vjs.bind(this,this.update))}}),vjs.TextTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player_.showTextTrack(this.track.id_,this.track.kind())},vjs.TextTrackMenuItem.prototype.update=function(){this.selected(2==this.track.mode())},vjs.OffTextTrackMenuItem=vjs.TextTrackMenuItem.extend({init:function(a,b){b.track={kind:function(){return b.kind},player:a,label:function(){return b.kind+" off"},dflt:function(){return!1},mode:function(){return!1}},vjs.TextTrackMenuItem.call(this,a,b),this.selected(!0)}}),vjs.OffTextTrackMenuItem.prototype.onClick=function(){vjs.TextTrackMenuItem.prototype.onClick.call(this),this.player_.showTextTrack(this.track.id_,this.track.kind())},vjs.OffTextTrackMenuItem.prototype.update=function(){for(var a,b=this.player_.textTracks(),c=0,d=b.length,e=!0;c<d;c++)a=b[c],a.kind()==this.track.kind()&&2==a.mode()&&(e=!1);this.selected(e)},vjs.TextTrackButton=vjs.MenuButton.extend({init:function(a,b){vjs.MenuButton.call(this,a,b),this.items.length<=1&&this.hide()}}),vjs.TextTrackButton.prototype.createItems=function(){var a,b=[];b.push(new vjs.OffTextTrackMenuItem(this.player_,{kind:this.kind_}));for(var c=0;c<this.player_.textTracks().length;c++)a=this.player_.textTracks()[c],a.kind()===this.kind_&&b.push(new vjs.TextTrackMenuItem(this.player_,{track:a}));return b},vjs.CaptionsButton=vjs.TextTrackButton.extend({init:function(a,b,c){vjs.TextTrackButton.call(this,a,b,c),this.el_.setAttribute("aria-label","Captions Menu")}}),vjs.CaptionsButton.prototype.kind_="captions",vjs.CaptionsButton.prototype.buttonText="Captions",vjs.CaptionsButton.prototype.className="vjs-captions-button",vjs.SubtitlesButton=vjs.TextTrackButton.extend({init:function(a,b,c){vjs.TextTrackButton.call(this,a,b,c),this.el_.setAttribute("aria-label","Subtitles Menu")}}),vjs.SubtitlesButton.prototype.kind_="subtitles",vjs.SubtitlesButton.prototype.buttonText="Subtitles",vjs.SubtitlesButton.prototype.className="vjs-subtitles-button",vjs.ChaptersButton=vjs.TextTrackButton.extend({init:function(a,b,c){vjs.TextTrackButton.call(this,a,b,c),this.el_.setAttribute("aria-label","Chapters Menu")}}),vjs.ChaptersButton.prototype.kind_="chapters",vjs.ChaptersButton.prototype.buttonText="Chapters",vjs.ChaptersButton.prototype.className="vjs-chapters-button",vjs.ChaptersButton.prototype.createItems=function(){for(var a,b=[],c=0;c<this.player_.textTracks().length;c++)a=this.player_.textTracks()[c],a.kind()===this.kind_&&b.push(new vjs.TextTrackMenuItem(this.player_,{track:a}));return b},vjs.ChaptersButton.prototype.createMenu=function(){for(var a,b,c=this.player_.textTracks(),d=0,e=c.length,f=this.items=[];d<e;d++)if(a=c[d],a.kind()==this.kind_&&a.dflt()){if(a.readyState()<2)return this.chaptersTrack=a,void a.on("loaded",vjs.bind(this,this.createMenu));b=a;break}var g=this.menu=new vjs.Menu(this.player_);if(g.contentEl().appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.kind_),tabindex:-1})),b){var h,i,j=b.cues_;for(d=0,e=j.length;d<e;d++)h=j[d],i=new vjs.ChaptersTrackMenuItem(this.player_,{track:b,cue:h}),f.push(i),g.addChild(i)}return this.items.length>0&&this.show(),g},vjs.ChaptersTrackMenuItem=vjs.MenuItem.extend({init:function(a,b){var c=this.track=b.track,d=this.cue=b.cue,e=a.currentTime();b.label=d.text,b.selected=d.startTime<=e&&e<d.endTime,vjs.MenuItem.call(this,a,b),c.on("cuechange",vjs.bind(this,this.update))}}),vjs.ChaptersTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},vjs.ChaptersTrackMenuItem.prototype.update=function(){var a=this.cue,b=this.player_.currentTime();this.selected(a.startTime<=b&&b<a.endTime)},vjs.obj.merge(vjs.ControlBar.prototype.options_.children,{subtitlesButton:{},captionsButton:{},chaptersButton:{}}),vjs.JSON,void 0!==window.JSON&&"function"===window.JSON.parse)vjs.JSON=window.JSON;else{vjs.JSON={};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;vjs.JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data")}}vjs.autoSetup=function(){var a,b,c=document.getElementsByTagName("video");if(c&&c.length>0)for(var d=0,e=c.length;d<e;d++){if(!(b=c[d])||!b.getAttribute){vjs.autoSetupTimeout(1);break}void 0===b.player&&null!==(a=b.getAttribute("data-setup"))&&(a=vjs.JSON.parse(a||"{}"),videojs(b,a))}else vjs.windowLoaded||vjs.autoSetupTimeout(1)},vjs.autoSetupTimeout=function(a){setTimeout(vjs.autoSetup,a)},"complete"===document.readyState?vjs.windowLoaded=!0:vjs.one(window,"load",function(){vjs.windowLoaded=!0}),vjs.autoSetupTimeout(1),vjs.plugin=function(a,b){vjs.Player.prototype[a]=b},function(){function a(){}function b(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function c(a){return function(){return this[a].apply(this,arguments)}}var d=a.prototype,e=this,f=e.EventEmitter;d.getListeners=function(a){var b,c,d=this._getEvents();if("object"==typeof a){b={};for(c in d)d.hasOwnProperty(c)&&a.test(c)&&(b[c]=d[c])}else b=d[a]||(d[a]=[]);return b},d.flattenListeners=function(a){var b,c=[];for(b=0;b<a.length;b+=1)c.push(a[b].listener);return c},d.getListenersAsObject=function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c},d.addListener=function(a,c){var d,e=this.getListenersAsObject(a),f="object"==typeof c;for(d in e)e.hasOwnProperty(d)&&-1===b(e[d],c)&&e[d].push(f?c:{listener:c,once:!1});return this},d.on=c("addListener"),d.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},d.once=c("addOnceListener"),d.defineEvent=function(a){return this.getListeners(a),this},d.defineEvents=function(a){for(var b=0;b<a.length;b+=1)this.defineEvent(a[b]);return this},d.removeListener=function(a,c){var d,e,f=this.getListenersAsObject(a);for(e in f)f.hasOwnProperty(e)&&-1!==(d=b(f[e],c))&&f[e].splice(d,1);return this},d.off=c("removeListener"),d.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},d.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},d.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(d=c.length;d--;)f.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&("function"==typeof e?f.call(this,d,e):g.call(this,d,e));return this},d.removeEvent=function(a){var b,c=typeof a,d=this._getEvents();if("string"===c)delete d[a];else if("object"===c)for(b in d)d.hasOwnProperty(b)&&a.test(b)&&delete d[b];else delete this._events;return this},d.removeAllListeners=c("removeEvent"),d.emitEvent=function(a,b){var c,d,e,f=this.getListenersAsObject(a);for(e in f)if(f.hasOwnProperty(e))for(d=f[e].length;d--;)c=f[e][d],!0===c.once&&this.removeListener(a,c.listener),c.listener.apply(this,b||[])===this._getOnceReturnValue()&&this.removeListener(a,c.listener);return this},d.trigger=c("emitEvent"),d.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},d.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},d._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},d._getEvents=function(){return this._events||(this._events={})},a.noConflict=function(){return e.EventEmitter=f,a},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return a}):"object"==typeof module&&module.exports?module.exports=a:this.EventEmitter=a}.call(this),function(a){function b(b){var c=a.event;return c.target=c.target||c.srcElement||b,c}var c=document.documentElement,d=function(){};c.addEventListener?d=function(a,b,c){a.addEventListener(b,c,!1)}:c.attachEvent&&(d=function(a,c,d){a[c+d]=d.handleEvent?function(){var c=b(a);d.handleEvent.call(d,c)}:function(){var c=b(a);d.call(a,c)},a.attachEvent("on"+c,a[c+d])});var e=function(){};c.removeEventListener?e=function(a,b,c){a.removeEventListener(b,c,!1)}:c.detachEvent&&(e=function(a,b,c){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}});var f={bind:d,unbind:e};"function"==typeof define&&define.amd?define("eventie/eventie",f):a.eventie=f}(this),function(a,b){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(c,d){return b(a,c,d)}):"object"==typeof exports?module.exports=b(a,require("wolfy87-eventemitter"),require("eventie")):a.imagesLoaded=b(a,a.EventEmitter,a.eventie)}(window,function(a,b,c){function d(a,b){for(var c in b)a[c]=b[c];return a}function e(a){return"[object Array]"===m.call(a)}function f(a){var b=[];if(e(a))b=a;else if("number"==typeof a.length)for(var c=0,d=a.length;c<d;c++)b.push(a[c]);else b.push(a);return b}function g(a,b,c){if(!(this instanceof g))return new g(a,b);"string"==typeof a&&(a=document.querySelectorAll(a)),this.elements=f(a),this.options=d({},this.options),"function"==typeof b?c=b:d(this.options,b),c&&this.on("always",c),this.getImages(),j&&(this.jqDeferred=new j.Deferred);var e=this;setTimeout(function(){e.check()})}function h(a){this.img=a}function i(a){this.src=a,n[a]=this}var j=a.jQuery,k=a.console,l=void 0!==k,m=Object.prototype.toString;g.prototype=new b,g.prototype.options={},g.prototype.getImages=function(){this.images=[];for(var a=0,b=this.elements.length;a<b;a++){var c=this.elements[a];"IMG"===c.nodeName&&this.addImage(c);var d=c.nodeType;if(d&&(1===d||9===d||11===d))for(var e=c.querySelectorAll("img"),f=0,g=e.length;f<g;f++){var h=e[f];this.addImage(h)}}},g.prototype.addImage=function(a){var b=new h(a);this.images.push(b)},g.prototype.check=function(){function a(a,e){return b.options.debug&&l&&k.log("confirm",a,e),b.progress(a),c++,c===d&&b.complete(),!0}var b=this,c=0,d=this.images.length;if(this.hasAnyBroken=!1,!d)return void this.complete();for(var e=0;e<d;e++){var f=this.images[e];f.on("confirm",a),f.check()}},g.prototype.progress=function(a){this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded;var b=this;setTimeout(function(){b.emit("progress",b,a),b.jqDeferred&&b.jqDeferred.notify&&b.jqDeferred.notify(b,a)})},g.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var b=this;setTimeout(function(){if(b.emit(a,b),b.emit("always",b),b.jqDeferred){var c=b.hasAnyBroken?"reject":"resolve";b.jqDeferred[c](b)}})},j&&(j.fn.imagesLoaded=function(a,b){return new g(this,a,b).jqDeferred.promise(j(this))}),h.prototype=new b,h.prototype.check=function(){var a=n[this.img.src]||new i(this.img.src);if(a.isConfirmed)return void this.confirm(a.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var b=this;a.on("confirm",function(a,c){return b.confirm(a.isLoaded,c),!0}),a.check()},h.prototype.confirm=function(a,b){this.isLoaded=a,this.emit("confirm",this,b)};var n={};return i.prototype=new b,i.prototype.check=function(){if(!this.isChecked){var a=new Image;c.bind(a,"load",this),c.bind(a,"error",this),a.src=this.src,this.isChecked=!0}},i.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},i.prototype.onload=function(a){this.confirm(!0,"onload"),this.unbindProxyEvents(a)},i.prototype.onerror=function(a){this.confirm(!1,"onerror"),this.unbindProxyEvents(a)},i.prototype.confirm=function(a,b){this.isConfirmed=!0,this.isLoaded=a,this.emit("confirm",this,b)},i.prototype.unbindProxyEvents=function(a){c.unbind(a.target,"load",this),c.unbind(a.target,"error",this)},g}),jQuery(document).ready(function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o=110,p=a("body").css("overflow"),q=a("html").css("overflow"),r=85,s="";window.innerWidth<=760&&(o=Math.round(window.innerWidth/760*110))<40&&("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(o=0);var t=function(a){switch(a.which){case 38:a.preventDefault(),e.scrollTop(e.scrollTop()-100);break;case 40:a.preventDefault(),e.scrollTop(e.scrollTop()+100);break;case 39:a.preventDefault(),d.jp_carousel("clearCommentTextAreaValue"),d.jp_carousel("next");break;case 37:case 8:a.preventDefault(),d.jp_carousel("clearCommentTextAreaValue"),d.jp_carousel("previous");break;case 27:a.preventDefault(),d.jp_carousel("clearCommentTextAreaValue"),e.jp_carousel("close")}},u=function(a){clearTimeout(k),k=setTimeout(function(){d.jp_carousel("slides").jp_carousel("fitSlide",!0),d.jp_carousel("updateSlidePositions",!0),d.jp_carousel("fitMeta",!0)},200)},v=function(k){if(!b){b=a("<div></div>").addClass("jp-carousel-overlay").css({position:"absolute",top:0,right:0,bottom:0,left:0});var n='<a class="jp-carousel-commentlink" href="#">'+jetpackCarouselStrings.comment+"</a>";jetpackCarouselStrings.is_logged_in,n=a('<div class="jp-carousel-buttons">'+n+"</div>"),j=a("<h2></h2>"),l=a('<div class="jp-carousel-photo-info"></div>').append(j),imageMeta=a("<div></div>").addClass("jp-carousel-image-meta").css({float:"right","margin-top":"20px",width:"250px"}),imageMeta.append(n).append("<ul class='jp-carousel-image-exif' style='display:none;'></ul>").append("<a class='jp-carousel-image-download' style='display:none;'></a>").append("<div class='jp-carousel-image-map' style='display:none;'></div>"),titleAndDescription=a("<div></div>").addClass("jp-carousel-titleanddesc").css({width:"100%","margin-top":imageMeta.css("margin-top")});var p='<div id="jp-carousel-comment-form-container">';jetpackCarouselStrings.local_comments_commenting_as&&jetpackCarouselStrings.local_comments_commenting_as.length&&(1!=jetpackCarouselStrings.is_logged_in&&1==jetpackCarouselStrings.comment_registration?p+='<div id="jp-carousel-comment-form-commenting-as">'+jetpackCarouselStrings.local_comments_commenting_as+"</div>":(p+='<form id="jp-carousel-comment-form">',p+='<textarea name="comment" class="jp-carousel-comment-form-field jp-carousel-comment-form-textarea" id="jp-carousel-comment-form-comment-field" placeholder="'+jetpackCarouselStrings.write_comment+'"></textarea>',p+='<div id="jp-carousel-comment-form-submit-and-info-wrapper">',p+='<div id="jp-carousel-comment-form-commenting-as">'+jetpackCarouselStrings.local_comments_commenting_as+"</div>",p+='<input type="submit" name="submit" class="jp-carousel-comment-form-button" id="jp-carousel-comment-form-button-submit" value="'+jetpackCarouselStrings.post_comment+'" />',p+='<span id="jp-carousel-comment-form-spinner">&nbsp;</span>',p+='<div id="jp-carousel-comment-post-results"></div>',p+="</div>",p+="</form>")),p+="</div>",commentForm=a(p).css({width:"100%","margin-top":"20px",color:"#999"}),c=a("<div></div>").addClass("jp-carousel-comments").css({width:"100%",bottom:"10px","margin-top":"20px"}),commentsLoading=a('<div id="jp-carousel-comments-loading"><span>'+jetpackCarouselStrings.loading_comments+"</span></div>").css({width:"100%",bottom:"10px","margin-top":"20px"}),leftWidth=a(window).width()-2*o-(imageMeta.width()+40),leftWidth+="px",leftColWrapper=a("<div></div>").addClass("jp-carousel-left-column-wrapper").css({width:Math.floor(leftWidth)}).append(titleAndDescription).append(commentForm).append(c).append(commentsLoading),fadeaway=a("<div></div>").addClass("jp-carousel-fadeaway"),h=a("<div></div>").addClass("jp-carousel-info").css({top:Math.floor(a(window).height()/100*r),left:o,right:o}).append(l).append(imageMeta),window.innerWidth<=760?(l.remove().insertAfter(titleAndDescription),h.prepend(leftColWrapper)):h.append(leftColWrapper),targetBottomPos=a(window).height()-parseInt(h.css("top"),10)+"px",f=a("<div><span></span></div>").addClass("jp-carousel-next-button").css({right:"15px"}),g=a("<div><span></span></div>").addClass("jp-carousel-previous-button").css({left:0}),f.add(g).css({position:"fixed",top:"40px",bottom:targetBottomPos,width:o}),d=a("<div></div>").addClass("jp-carousel").css({position:"absolute",top:0,bottom:targetBottomPos,left:0,right:0}),m=a('<div class="jp-carousel-close-hint"><span>&times;</span></div>').css({position:"fixed"}),e=a("<div></div>").addClass("jp-carousel-wrap").addClass("jp-carousel-transitions"),"white"==jetpackCarouselStrings.background_color&&e.addClass("jp-carousel-light"),e.css({position:"fixed",top:0,right:0,bottom:0,left:0,"z-index":2147483647,"overflow-x":"hidden","overflow-y":"auto",direction:"ltr"}).hide().append(b).append(d).append(fadeaway).append(h).append(f).append(g).append(m).appendTo(a("body")).click(function(b){var c=a(b.target),f=c.parents("div.jp-carousel-wrap"),g=f.data("carousel-extra"),i=f.find("div.selected"),j=i.data("attachment-id");if(g=g||[],c.is(d)||c.parents().add(c).is(m))e.jp_carousel("close");else if(c.hasClass("jp-carousel-commentlink"))b.preventDefault(),b.stopPropagation(),a(window).unbind("keydown",t),e.animate({scrollTop:parseInt(h.position().top,10)},"fast"),a("#jp-carousel-comment-form-submit-and-info-wrapper").slideDown("fast"),a("#jp-carousel-comment-form-comment-field").focus();else if(c.hasClass("jp-carousel-comment-login")){var k=jetpackCarouselStrings.login_url+"%23jp-carousel-"+j;window.location.href=k}else if(c.parents("#jp-carousel-comment-form-container").length){var l=a("#jp-carousel-comment-form-comment-field").blur(function(){a(window).bind("keydown",t)}).focus(function(){a(window).unbind("keydown",t)}),n=a("#jp-carousel-comment-form-email-field").blur(function(){a(window).bind("keydown",t)}).focus(function(){a(window).unbind("keydown",t)}),o=a("#jp-carousel-comment-form-author-field").blur(function(){a(window).bind("keydown",t)}).focus(function(){a(window).unbind("keydown",t)}),p=a("#jp-carousel-comment-form-url-field").blur(function(){a(window).bind("keydown",t)}).focus(function(){a(window).unbind("keydown",t)});if(l&&l.attr("id")==c.attr("id"))a(window).unbind("keydown",t),a("#jp-carousel-comment-form-submit-and-info-wrapper").slideDown("fast");else if(c.is('input[type="submit"]')){b.preventDefault(),b.stopPropagation(),a("#jp-carousel-comment-form-spinner").spin("small","white");var q={action:"post_attachment_comment",nonce:jetpackCarouselStrings.nonce,blog_id:g.blog_id,id:j,comment:l.val()};if(!q.comment.length)return void d.jp_carousel("postCommentError",{field:"jp-carousel-comment-form-comment-field",error:jetpackCarouselStrings.no_comment_text});if(1!=jetpackCarouselStrings.is_logged_in&&(q.email=n.val(),q.author=o.val(),q.url=p.val(),1==jetpackCarouselStrings.require_name_email)){if(!q.email.length||!q.email.match("@"))return void d.jp_carousel("postCommentError",{field:"jp-carousel-comment-form-email-field",error:jetpackCarouselStrings.no_comment_email});if(!q.author.length)return void d.jp_carousel("postCommentError",{field:"jp-carousel-comment-form-author-field",error:jetpackCarouselStrings.no_comment_author})}a.ajax({type:"POST",url:jetpackCarouselStrings.ajaxurl,data:q,dataType:"json",success:function(b,c,e){"approved"==b.comment_status?a("#jp-carousel-comment-post-results").slideUp("fast").html('<span class="jp-carousel-comment-post-success">'+jetpackCarouselStrings.comment_approved+"</span>").slideDown("fast"):"unapproved"==b.comment_status?a("#jp-carousel-comment-post-results").slideUp("fast").html('<span class="jp-carousel-comment-post-success">'+jetpackCarouselStrings.comment_unapproved+"</span>").slideDown("fast"):a("#jp-carousel-comment-post-results").slideUp("fast").html('<span class="jp-carousel-comment-post-error">'+jetpackCarouselStrings.comment_post_error+"</span>").slideDown("fast"),d.jp_carousel("clearCommentTextAreaValue"),d.jp_carousel("getComments",{attachment_id:j,offset:0,clear:!0}),a("#jp-carousel-comment-form-button-submit").val(jetpackCarouselStrings.post_comment),a("#jp-carousel-comment-form-spinner").spin(!1)},error:function(a,b,c){d.jp_carousel("postCommentError",{field:"jp-carousel-comment-form-comment-field",error:jetpackCarouselStrings.comment_post_error})}})}}else c.parents(".jp-carousel-info").length||e.jp_carousel("next")}).bind("jp_carousel.afterOpen",function(){a(window).bind("keydown",t),a(window).bind("resize",u),d.opened=!0,u()}).bind("jp_carousel.beforeClose",function(){var b=a(window).scrollTop();a(window).unbind("keydown",t),a(window).unbind("resize",u),a(window).scrollTop(b)}).bind("jp_carousel.afterClose",function(){history.pushState?history.pushState("",document.title,window.location.pathname+window.location.search):(s="",window.location.hash=""),d.opened=!1}).on("transitionend.jp-carousel ",".jp-carousel-slide",function(b){if("transform"==b.originalEvent.propertyName){var c=(Date.now()-i)/1e3/b.originalEvent.elapsedTime;e.off("transitionend.jp-carousel"),c>=2&&a(".jp-carousel-transitions").removeClass("jp-carousel-transitions")}}),a(".jp-carousel-wrap").touchwipe({wipeLeft:function(a){a.preventDefault(),d.jp_carousel("next")},wipeRight:function(a){a.preventDefault(),d.jp_carousel("previous")},preventDefaultEvents:!1}),a(".jetpack-likes-widget-unloaded").each(function(){jetpackLikesWidgetQueue.push(this.id)}),f.add(g).click(function(a){a.preventDefault(),a.stopPropagation(),f.is(this)?d.jp_carousel("next"):d.jp_carousel("previous")})}},w={testForData:function(b){return b=a(b),!(!b.length||void 0==b.data("carousel-extra"))},testIfOpened:function(){return void 0!==d&&void 0!==d.opened&&1==d.opened},openOrSelectSlide:function(b){a(this).jp_carousel("testIfOpened")?d.jp_carousel("selectSlideAtIndex",b):a(this).jp_carousel("open",{start_index:b})},open:function(b){var c={items_selector:".gallery-item [data-attachment-id], .tiled-gallery-item [data-attachment-id]",start_index:0},f=a(this).data("carousel-extra");if(f&&(v(f),!d.jp_carousel("testIfOpened")))return p=a("body").css("overflow"),a("body").css("overflow","hidden"),q=a("html").css("overflow"),a("html").css("overflow","hidden"),jQuery(".slim-likes-widget").find("iframe").css("display","inline-block").css("width","60px"),e.data("carousel-extra",f),this.each(function(){var f=a(this);b&&a.extend(c,b),-1==c.start_index&&(c.start_index=0),e.trigger("jp_carousel.beforeOpen").fadeIn("fast",function(){e.trigger("jp_carousel.afterOpen"),d.jp_carousel("initSlides",f.find(c.items_selector),c.start_index).jp_carousel("selectSlideAtIndex",c.start_index)}),d.html("")})},selectSlideAtIndex:function(a){var b=this.jp_carousel("slides"),c=b.eq(a);return 0===c.length&&(c=b.eq(0)),d.jp_carousel("selectSlide",c,!1),this},close:function(){return a("body").css("overflow",p),a("html").css("overflow",q),e.trigger("jp_carousel.beforeClose").fadeOut("fast",function(){e.trigger("jp_carousel.afterClose")})},next:function(){var a=d.jp_carousel("nextSlide");e.animate({scrollTop:0},"fast"),a&&this.jp_carousel("selectSlide",a)},previous:function(){var a=d.jp_carousel("prevSlide");e.animate({scrollTop:0},"fast"),a&&this.jp_carousel("selectSlide",a)},resetButtons:function(b){b.data("liked")?a(".jp-carousel-buttons a.jp-carousel-like").addClass("liked").text(jetpackCarouselStrings.unlike):a(".jp-carousel-buttons a.jp-carousel-like").removeClass("liked").text(jetpackCarouselStrings.like)},selectedSlide:function(){return this.find(".selected")},setSlidePosition:function(a){return i=Date.now(),this.css({"-webkit-transform":"translate3d("+a+"px,0,0)","-moz-transform":"translate3d("+a+"px,0,0)","-ms-transform":"translate("+a+"px,0)","-o-transform":"translate("+a+"px,0)",transform:"translate3d("+a+"px,0,0)"})},updateSlidePositions:function(a){var b=this.jp_carousel("selectedSlide"),c=d.width(),e=b.width(),f=d.jp_carousel("prevSlide"),g=d.jp_carousel("nextSlide"),h=f.prev(),i=g.next(),j=Math.floor(.5*(c-e));b.jp_carousel("setSlidePosition",j).show(),d.jp_carousel("fitInfo",a),1==(n.is(b.prevAll())?1:-1)?(i.is(f)||i.jp_carousel("setSlidePosition",c+g.width()).show(),h.is(g)||h.jp_carousel("setSlidePosition",-h.width()-e).show()):i.is(f)||i.jp_carousel("setSlidePosition",c+e).show(),f.jp_carousel("setSlidePosition",Math.floor(-f.width()+.75*o)).show(),g.jp_carousel("setSlidePosition",Math.ceil(c-.75*o)).show()},selectSlide:function(b,c){n=this.find(".selected").removeClass("selected");var f,g,h=d.jp_carousel("slides").css({position:"fixed"}),i=a(b).addClass("selected").css({position:"relative"}),k=i.data("attachment-id"),l=d.jp_carousel("prevSlide"),m=d.jp_carousel("nextSlide"),o=l.prev(),p=m.next();d.jp_carousel("loadFullImage",i),j.hide(),0==m.length&&h.length<=2?a(".jp-carousel-next-button").hide():a(".jp-carousel-next-button").show(),0==l.length&&h.length<=2?a(".jp-carousel-previous-button").hide():a(".jp-carousel-previous-button").show(),f=i.add(l).add(o).add(m).add(p).jp_carousel("loadSlide"),h.not(f).hide(),d.jp_carousel("updateSlidePositions",c),d.jp_carousel("resetButtons",i),e.trigger("jp_carousel.selectSlide",[i]),d.jp_carousel("getTitleDesc",{title:i.data("title"),desc:i.data("desc")}),d.jp_carousel("loadLikes",k),d.jp_carousel("updateLikesWidgetVisibility",k),m.length>0&&d.jp_carousel("loadLikes",m.data("attachment-id")),l.length>0&&d.jp_carousel("loadLikes",l.data("attachment-id"));var q=i.data("image-meta");d.jp_carousel("updateExif",q),d.jp_carousel("updateFullSizeLink",i),d.jp_carousel("updateMap",q),d.jp_carousel("testCommentsOpened",i.data("comments-opened")),d.jp_carousel("getComments",{attachment_id:k,offset:0,clear:!0}),a("#jp-carousel-comment-post-results").slideUp(),i.data("caption")?(g=a("<div />").text(i.data("caption")).html(),g==a("<div />").text(i.data("title")).html()&&a(".jp-carousel-titleanddesc-title").fadeOut("fast").empty(),g==a("<div />").text(i.data("desc")).html()&&a(".jp-carousel-titleanddesc-desc").fadeOut("fast").empty(),j.html(i.data("caption")).fadeIn("slow")):j.fadeOut("fast").empty(),a(m).add(l).each(function(){d.jp_carousel("loadFullImage",a(this))}),window.location.hash=s="#jp-carousel-"+k},slides:function(){return this.find(".jp-carousel-slide")},slideDimensions:function(){return{width:a(window).width()-2*o,height:Math.floor(a(window).height()/100*r-60)}},loadSlide:function(){return this.each(function(){var b=a(this);b.find("img").one("load",function(){b.jp_carousel("fitSlide",!1)})})},bestFit:function(){var a=d.jp_carousel("slideDimensions"),b=this.jp_carousel("originalDimensions"),c=b.width/b.height,e=1,f=1;return b.width>a.width&&(e=a.width/b.width),b.height>a.height&&(f=a.height/b.height),e<f?(width=a.width,height=Math.floor(width/c)):f<e?(height=a.height,width=Math.floor(height*c)):(width=b.width,height=b.height),{width:width,height:height}},fitInfo:function(a){var b=this.jp_carousel("selectedSlide"),c=b.jp_carousel("bestFit");return l.css({left:Math.floor(.5*(h.width()-c.width)),width:Math.floor(c.width)}),this},fitMeta:function(b){var c={top:Math.floor(a(window).height()/100*r+5)+"px"},d={width:h.width()-(imageMeta.width()+80)+"px"};b?(h.animate(c),leftColWrapper.animate(d)):(h.animate(c),leftColWrapper.css(d))},fitSlide:function(b){return this.each(function(){var b=(d.jp_carousel("selectedSlide"),a(this)),c=b.jp_carousel("bestFit"),e=d.jp_carousel("slideDimensions");c.left=0,c.top=Math.floor(.5*(e.height-c.height))+40,b.css(c)})},texturize:function(b){return b=new String(b),b=b.replace(/'/g,"&#8217;").replace(/&#039;/g,"&#8217;").replace(/[\u2019]/g,"&#8217;"),b=b.replace(/"/g,"&#8221;").replace(/&#034;/g,"&#8221;").replace(/&quot;/g,"&#8221;").replace(/[\u201D]/g,"&#8221;"),b=b.replace(/([\w]+)=&#[\d]+;(.+?)&#[\d]+;/g,'$1="$2"'),a.trim(b)},initSlides:function(b,c){this.jp_carousel("slideDimensions").width;b.length<2?a(".jp-carousel-next-button, .jp-carousel-previous-button").hide():a(".jp-carousel-next-button, .jp-carousel-previous-button").show(),b.each(function(b){var c=a(this),e=c.data("orig-size")||"",f=d.jp_carousel("slideDimensions"),g=e.split(",");e={width:parseInt(g[0],10),height:parseInt(g[1],10)},medium_file=c.data("medium-file")||"",large_file=c.data("large-file")||"",src=c.data("orig-file"),src=d.jp_carousel("selectBestImageSize",{orig_file:src,orig_width:e.width,orig_height:e.height,max_width:f.width,max_height:f.height,medium_file:medium_file,large_file:large_file}),a(this).data("gallery-src",src)}),0!==c&&(a("<img/>")[0].src=a(b[c]).data("gallery-src"));var e=b.first().closest(".tiled-gallery.type-rectangular").length>0;return b.each(function(b){var f=a(this),g=f.data("attachment-id")||0,h=f.data("comments-opened")||0,i=f.data("image-meta")||{},j=f.data("orig-size")||"",k={width:f[0].naturalWidth,height:f[0].naturalHeight},l=f.data("image-title")||"",m=f.data("image-description")||"",n=f.parents("dl").find("dd.gallery-caption").html()||"",o=f.data("gallery-src")||"",p=f.data("medium-file")||"",q=f.data("large-file")||"",r=f.data("orig-file")||"",s=f.parents("div.tiled-gallery-item").find("div.tiled-gallery-caption").html();if(s&&(n=s),g&&j.length){l=d.jp_carousel("texturize",l),m=d.jp_carousel("texturize",m),n=d.jp_carousel("texturize",n);var t=a("<img/>").attr("src","data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7").css("width","100%").css("height","100%"),u=a('<div class="jp-carousel-slide"></div>').hide().css({left:b<c?-1e3:d.width()}).append(t).appendTo(d).data("src",o).data("title",l).data("desc",m).data("caption",n).data("attachment-id",g).data("permalink",f.parents("a").attr("href")).data("orig-size",j).data("comments-opened",h).data("image-meta",i).data("medium-file",p).data("large-file",q).data("orig-file",r).data("thumb-size",k);e&&u.data("preview-image",f.attr("src")).css({"background-image":'url("'+f.attr("src")+'")',"background-size":"100% 100%","background-position":"center center"}),u.jp_carousel("fitSlide",!1)}}),this},selectBestImageSize:function(a){if("object"!=typeof a&&(a={}),void 0===a.orig_file)return"";if(void 0===a.orig_width||void 0===a.max_width)return a.orig_file;if(void 0===a.medium_file||void 0===a.large_file)return a.orig_file;var b=a.medium_file.replace(/-([\d]+x[\d]+)\..+$/,"$1"),c=b!=a.medium_file?b.split("x"):[a.orig_width,0],d=parseInt(c[0],10),e=parseInt(c[1],10),f=a.large_file.replace(/-([\d]+x[\d]+)\..+$/,"$1"),g=f!=a.large_file?f.split("x"):[a.orig_width,0],h=parseInt(g[0],10),i=parseInt(g[1],10);return void 0!==window.devicePixelRatio&&window.devicePixelRatio>1&&(a.max_width=a.max_width*window.devicePixelRatio,a.max_height=a.max_height*window.devicePixelRatio),h>=a.max_width||i>=a.max_height?a.large_file:d>=a.max_width||e>=a.max_height?a.medium_file:a.orig_file},originalDimensions:function(){var b=a(this).data("orig-size").split(",");return{width:parseInt(b[0],10),height:parseInt(b[1],10)}},format:function(a){if("object"!=typeof a&&(a={}),a.text&&void 0!==a.text)return a.replacements&&void 0!==a.replacements?a.text.replace(/{(\d+)}/g,function(b,c){return void 0!==a.replacements[c]?a.replacements[c]:b}):a.text},shutterSpeed:function(a){if(a>=1)return Math.round(a)+"s";for(var b=1,c=1,d=1,e=1e3;b!=a&&e-- >0;)b<a?c+=1:(d+=1,c=parseInt(a*d,10)),b=c/d;return c>1&&(d=Math.round(d/c),c=1),d<=1?"1s":c+"/"+d+"s"},parseTitleDesc:function(b){if(!b.match(" ")&&b.match("_"))return"";a(["CIMG","DSC_","DSCF","DSCN","DUW","GEDC","IMG","JD","MGP","PICT","Imagen","Foto","DSC","Scan","SANY","SAM","Screen Shot [0-9]+"]).each(function(a,c){if(regex=new RegExp("^"+c),regex.test(b))return void(b="")});return b},getTitleDesc:function(b){var c,e="",f="",g="";c=a("div.jp-carousel-titleanddesc","div.jp-carousel-wrap"),c.hide(),e=d.jp_carousel("parseTitleDesc",b.title)||"",f=d.jp_carousel("parseTitleDesc",b.desc)||"",(e.length||f.length)&&(a("<div />").text(e).html()==a("<div />").text(f).html()&&(e=""),g=e.length?'<div class="jp-carousel-titleanddesc-title">'+e+"</div>":"",g+=f.length?'<div class="jp-carousel-titleanddesc-desc">'+f+"</div>":"",c.html(g).fadeIn("slow")),a("div#jp-carousel-comment-form-container").css("margin-top","20px"),a("div#jp-carousel-comments-loading").css("margin-top","20px")},updateLikesWidgetVisibility:function(b){"undefined"!=typeof jetpackLikesWidgetQueue&&a(".jp-carousel-buttons .jetpack-likes-widget-wrapper").css("display","none").each(function(){var c=a(this);if(c.attr("data-attachment-id")==b)return c.css("display","inline-block"),!1})},loadLikes:function(b){var c=a(".jp-carousel-wrap").data("carousel-extra"),d=c.likes_blog_id;if(0==a("#like-post-wrapper-"+d+"-"+b).length){var e="http",f="http://wordpress.com";if(c.permalink.length){var e=c.permalink.split(":")[0];"http"!=e&&"https"!=e&&(e="http");var g=c.permalink.split("/");g.length>=2&&(f=e+"://"+g[2])}var h=e+"://widgets.wp.com/likes/#blog_id="+encodeURIComponent(d)+"&post_id="+encodeURIComponent(b)+"&slim=1&origin="+encodeURIComponent(f);"en"!==jetpackCarouselStrings.lang&&(h+="&lang="+encodeURIComponent(jetpackCarouselStrings.lang));var i=a("<iframe class='post-likes-widget jetpack-likes-widget jetpack-resizeable'></iframe>").attr("name","like-post-frame-"+d+"-"+b).attr("src",h).css("display","inline-block"),j=a("<div/>").addClass("jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded slim-likes-widget").attr("id","like-post-wrapper-"+d+"-"+b).attr("data-src",h).attr("data-name","like-post-frame-"+d+"-"+b).attr("data-attachment-id",b).css("display","none").css("vertical-align","middle").append(i).append("<div class='post-likes-widget-placeholder'></div>");a(".jp-carousel-buttons").append(j)}},updateExif:function(b){if(!b||1!=jetpackCarouselStrings.display_exif)return!1;var c=a("<ul class='jp-carousel-image-exif'></ul>");a.each(b,function(b,e){if(0!==parseFloat(e)&&e.length&&-1!==a.inArray(b,["camera","aperture","shutter_speed","focal_length"])){switch(b){case"focal_length":e+="mm";break;case"shutter_speed":e=d.jp_carousel("shutterSpeed",e);break;case"aperture":e="f/"+e}c.append("<li><h5>"+jetpackCarouselStrings[b]+"</h5>"+e+"</li>")}}),a("div.jp-carousel-image-meta ul.jp-carousel-image-exif").replaceWith(c)},updateFullSizeLink:function(b){if(!b||!b.data)return!1;var c=b.data("orig-file").replace(/\?.+$/,""),e=b.data("orig-size").split(","),f=a("<a>"+d.jp_carousel("format",{text:jetpackCarouselStrings.download_original,replacements:e})+"</a>").addClass("jp-carousel-image-download").attr("href",c).attr("target","_blank");a("div.jp-carousel-image-meta a.jp-carousel-image-download").replaceWith(f)},updateMap:function(b){if(b.latitude&&b.longitude&&1==jetpackCarouselStrings.display_geo){var c=b.latitude,d=b.longitude,e=a("div.jp-carousel-image-meta","div.jp-carousel-wrap"),f=a("<div></div>"),g="&scale=2&style=feature:all|element:all|invert_lightness:true|hue:0x0077FF|saturation:-50|lightness:-5|gamma:0.91";f.addClass("jp-carousel-image-map").html('<img width="154" height="154" src="https://maps.googleapis.com/maps/api/staticmap?\t\t\t\t\t\t\tcenter='+c+","+d+"&\t\t\t\t\t\t\tzoom=8&\t\t\t\t\t\t\tsize=154x154&\t\t\t\t\t\t\tsensor=false&\t\t\t\t\t\t\tmarkers=size:medium%7Ccolor:blue%7C"+c+","+d+g+'" class="gmap-main" />\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="gmap-topright"><div class="imgclip"><img width="175" height="154" src="https://maps.googleapis.com/maps/api/staticmap?\t\t\t\t\t\t\tcenter='+c+","+d+"&\t\t\t\t\t\t\tzoom=3&\t\t\t\t\t\t\tsize=175x154&\t\t\t\t\t\t\tsensor=false&\t\t\t\t\t\t\tmarkers=size:small%7Ccolor:blue%7C"+c+","+d+g+'"c /></div></div>\t\t\t\t\t\t\t\t\t\t\t\t\t').prependTo(e)}},testCommentsOpened:function(b){1==parseInt(b,10)?(a(".jp-carousel-buttons").fadeIn("fast"),commentForm.fadeIn("fast")):(a(".jp-carousel-buttons").fadeOut("fast"),commentForm.fadeOut("fast"))},getComments:function(a){return!1},postCommentError:function(b){"object"!=typeof b&&(b={}),b.field&&void 0!==b.field&&b.error&&void 0!==b.error&&(a("#jp-carousel-comment-post-results").slideUp("fast").html('<span class="jp-carousel-comment-post-error">'+b.error+"</span>").slideDown("fast"),a("#jp-carousel-comment-form-spinner").spin(!1))},setCommentIframeSrc:function(b){var c=a("#jp-carousel-comment-iframe");c&&c.length&&(c.attr("src",c.attr("src").replace(/(postid=)\d+/,"$1"+b)),c.attr("src",c.attr("src").replace(/(%23.+)?$/,"%23jp-carousel-"+b)))},clearCommentTextAreaValue:function(){var b=a("#jp-carousel-comment-form-comment-field");b&&b.val("")},nextSlide:function(){var a=this.jp_carousel("slides"),b=this.jp_carousel("selectedSlide");return 0==b.length||a.length>2&&b.is(a.last())?a.first():b.next()},prevSlide:function(){var a=this.jp_carousel("slides"),b=this.jp_carousel("selectedSlide");return 0==b.length||a.length>2&&b.is(a.first())?a.last():b.prev()},loadFullImage:function(b){var c=b.find("img:first");c.data("loaded")||(c.on("load.jetpack",function(){c.off("load.jetpack"),a(this).closest(".jp-carousel-slide").css("background-image","")}),!b.data("preview-image")||b.data("thumb-size")&&b.width()>b.data("thumb-size").width?c.attr("src",c.closest(".jp-carousel-slide").data("src")):c.attr("src",b.data("preview-image")),c.data("loaded",1))}};a.fn.jp_carousel=function(b){return w[b]?w[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.jp_carousel"):w.open.apply(this,arguments)},a(document.body).on("click","div.gallery,div.tiled-gallery",function(b){a(this).jp_carousel("testForData",b.currentTarget)&&(a(b.target).parent().hasClass("gallery-caption")||(b.preventDefault(),a(this).jp_carousel("open",{start_index:a(this).find(".gallery-item, .tiled-gallery-item").index(a(b.target).parents(".gallery-item, .tiled-gallery-item"))})))}),a(window).on("hashchange",function(){if(window.location.hash&&window.location.hash.match(/jp-carousel-(\d+)/)&&window.location.hash!=s){s=window.location.hash;var b=a("div.gallery, div.tiled-gallery"),c=-1,d=window.location.hash.match(/jp-carousel-(\d+)/);a(this).jp_carousel("testForData",b)&&(d=parseInt(d[1],10),b.find("img").each(function(b,e){if(d&&a(e).data("attachment-id")==d)return c=b,!1}),-1!=c&&b.jp_carousel("openOrSelectSlide",c))}}),window.location.hash&&a(window).trigger("hashchange")}),function(a){a.fn.touchwipe=function(b){var c={min_move_x:20,min_move_y:20,wipeLeft:function(a){},wipeRight:function(a){},wipeUp:function(a){},wipeDown:function(a){},preventDefaultEvents:!0};return b&&a.extend(c,b),this.each(function(){function a(){this.removeEventListener("touchmove",b),e=null,g=!1}function b(b){if(c.preventDefaultEvents&&b.preventDefault(),g){var d=b.touches[0].pageX,h=b.touches[0].pageY,i=e-d,j=f-h;Math.abs(i)>=c.min_move_x?(a(),i>0?c.wipeLeft(b):c.wipeRight(b)):Math.abs(j)>=c.min_move_y&&(a(),j>0?c.wipeDown(b):c.wipeUp(b))}}function d(a){1==a.touches.length&&(e=a.touches[0].pageX,f=a.touches[0].pageY,g=!0,this.addEventListener("touchmove",b,!1))}var e,f,g=!1;"ontouchstart"in document.documentElement&&this.addEventListener("touchstart",d,!1)}),this}}(jQuery);var q=null;window.PR_SHOULD_USE_CONTINUATION=!0,function(){function a(a){function b(a){var b=a.charCodeAt(0);if(92!==b)return b;var c=a.charAt(1);return(b=l[c])?b:"0"<=c&&c<="7"?parseInt(a.substring(1),8):"u"===c||"x"===c?parseInt(a.substring(2),16):a.charCodeAt(1)}function c(a){return a<32?(a<16?"\\x0":"\\x")+a.toString(16):(a=String.fromCharCode(a),"\\"!==a&&"-"!==a&&"["!==a&&"]"!==a||(a="\\"+a),a)}function d(a){for(var d=a.substring(1,a.length-1).match(/\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\[0-3][0-7]{0,2}|\\[0-7]{1,2}|\\[\S\s]|[^\\]/g),a=[],e=[],f="^"===d[0],g=f?1:0,h=d.length;g<h;++g){var i=d[g];if(/\\[bdsw]/i.test(i))a.push(i);else{var j,i=b(i);g+2<h&&"-"===d[g+1]?(j=b(d[g+2]),g+=2):j=i,e.push([i,j]),j<65||i>122||(j<65||i>90||e.push([32|Math.max(65,i),32|Math.min(j,90)]),j<97||i>122||e.push([-33&Math.max(97,i),-33&Math.min(j,122)]))}}for(e.sort(function(a,b){return a[0]-b[0]||b[1]-a[1]}),d=[],i=[NaN,NaN],g=0;g<e.length;++g)h=e[g],h[0]<=i[1]+1?i[1]=Math.max(i[1],h[1]):d.push(i=h);for(e=["["],f&&e.push("^"),e.push.apply(e,a),g=0;g<d.length;++g)h=d[g],e.push(c(h[0])),h[1]>h[0]&&(h[1]+1>h[0]&&e.push("-"),e.push(c(h[1])));return e.push("]"),e.join("")}function e(a){for(var b=a.source.match(/\[(?:[^\\\]]|\\[\S\s])*]|\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\\d+|\\[^\dux]|\(\?[!:=]|[()^]|[^()[\\^]+/g),c=b.length,e=[],h=0,i=0;h<c;++h){var j=b[h];"("===j?++i:"\\"===j.charAt(0)&&(j=+j.substring(1))&&j<=i&&(e[j]=-1)}for(h=1;h<e.length;++h)-1===e[h]&&(e[h]=++f);for(i=h=0;h<c;++h)j=b[h],"("===j?(++i,void 0===e[i]&&(b[h]="(?:")):"\\"===j.charAt(0)&&(j=+j.substring(1))&&j<=i&&(b[h]="\\"+e[i]);for(i=h=0;h<c;++h)"^"===b[h]&&"^"!==b[h+1]&&(b[h]="");if(a.ignoreCase&&g)for(h=0;h<c;++h)j=b[h],a=j.charAt(0),j.length>=2&&"["===a?b[h]=d(j):"\\"!==a&&(b[h]=j.replace(/[A-Za-z]/g,function(a){return a=a.charCodeAt(0),"["+String.fromCharCode(-33&a,32|a)+"]"}));return b.join("")}for(var f=0,g=!1,h=!1,i=0,j=a.length;i<j;++i){var k=a[i];if(k.ignoreCase)h=!0;else if(/[a-z]/i.test(k.source.replace(/\\u[\da-f]{4}|\\x[\da-f]{2}|\\[^UXux]/gi,""))){g=!0,h=!1;break}}for(var l={b:8,t:9,n:10,v:11,f:12,r:13},m=[],i=0,j=a.length;i<j;++i){if(k=a[i],k.global||k.multiline)throw Error(""+k);m.push("(?:"+e(k)+")")}return RegExp(m.join("|"),h?"gi":"g")}function b(a){function b(a){switch(a.nodeType){case 1:if(d.test(a.className))break;for(var c=a.firstChild;c;c=c.nextSibling)b(c);c=a.nodeName,"BR"!==c&&"LI"!==c||(e[h]="\n",g[h<<1]=f++,g[h++<<1|1]=a);break;case 3:case 4:c=a.nodeValue,c.length&&(c=i?c.replace(/\r\n?/g,"\n"):c.replace(/[\t\n\r ]+/g," "),e[h]=c,g[h<<1]=f,f+=c.length,g[h++<<1|1]=a)}}var c,d=/(?:^|\s)nocode(?:\s|$)/,e=[],f=0,g=[],h=0;a.currentStyle?c=a.currentStyle.whiteSpace:window.getComputedStyle&&(c=document.defaultView.getComputedStyle(a,q).getPropertyValue("white-space"));var i=c&&"pre"===c.substring(0,3);return b(a),{a:e.join("").replace(/\n$/,""),c:g}}function c(a,b,c,d){b&&(a={a:b,d:a},c(a),d.push.apply(d,a.e))}function d(b,d){function e(a){for(var b=a.d,j=[b,"pln"],k=0,l=a.a.match(f)||[],m={},n=0,o=l.length;n<o;++n){var p,q=l[n],r=m[q],s=void 0;if("string"==typeof r)p=!1;else{var t=g[q.charAt(0)];if(t)s=q.match(t[1]),r=t[0];else{for(p=0;p<i;++p)if(t=d[p],s=q.match(t[1])){r=t[0];break}s||(r="pln")}!(p=r.length>=5&&"lang-"===r.substring(0,5))||s&&"string"==typeof s[1]||(p=!1,r="src"),p||(m[q]=r)}if(t=k,k+=q.length,p){p=s[1];var u=q.indexOf(p),v=u+p.length;s[2]&&(v=q.length-s[2].length,u=v-p.length),r=r.substring(5),c(b+t,q.substring(0,u),e,j),c(b+t+u,p,h(r,p),j),c(b+t+v,q.substring(v),e,j)}else j.push(b+t,r)}a.e=j}var f,g={};!function(){for(var c=b.concat(d),e=[],h={},i=0,j=c.length;i<j;++i){var k=c[i],l=k[3];if(l)for(var m=l.length;--m>=0;)g[l.charAt(m)]=k;k=k[1],l=""+k,h.hasOwnProperty(l)||(e.push(k),h[l]=q)}e.push(/[\S\s]/),f=a(e)}();var i=d.length;return e}function e(a){var b=[],c=[];a.tripleQuotedStrings?b.push(["str",/^(?:'''(?:[^'\\]|\\[\S\s]|''?(?=[^']))*(?:'''|$)|"""(?:[^"\\]|\\[\S\s]|""?(?=[^"]))*(?:"""|$)|'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$))/,q,"'\""]):a.multiLineStrings?b.push(["str",/^(?:'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$)|`(?:[^\\`]|\\[\S\s])*(?:`|$))/,q,"'\"`"]):b.push(["str",/^(?:'(?:[^\n\r'\\]|\\.)*(?:'|$)|"(?:[^\n\r"\\]|\\.)*(?:"|$))/,q,"\"'"]),a.verbatimStrings&&c.push(["str",/^@"(?:[^"]|"")*(?:"|$)/,q]);var e=a.hashComments;return e&&(a.cStyleComments?(e>1?b.push(["com",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,q,"#"]):b.push(["com",/^#(?:(?:define|elif|else|endif|error|ifdef|include|ifndef|line|pragma|undef|warning)\b|[^\n\r]*)/,q,"#"]),c.push(["str",/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h|[a-z]\w*)>/,q])):b.push(["com",/^#[^\n\r]*/,q,"#"])),a.cStyleComments&&(c.push(["com",/^\/\/[^\n\r]*/,q]),c.push(["com",/^\/\*[\S\s]*?(?:\*\/|$)/,q])),a.regexLiterals&&c.push(["lang-regex",/^(?:^^\.?|[!+-]|!=|!==|#|%|%=|&|&&|&&=|&=|\(|\*|\*=|\+=|,|-=|->|\/|\/=|:|::|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|[?@[^]|\^=|\^\^|\^\^=|{|\||\|=|\|\||\|\|=|~|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\s*(\/(?=[^*\/])(?:[^\/[\\]|\\[\S\s]|\[(?:[^\\\]]|\\[\S\s])*(?:]|$))+\/)/]),(e=a.types)&&c.push(["typ",e]),a=(""+a.keywords).replace(/^ | $/g,""),a.length&&c.push(["kwd",RegExp("^(?:"+a.replace(/[\s,]+/g,"|")+")\\b"),q]),b.push(["pln",/^\s+/,q," \r\n\t "]),c.push(["lit",/^@[$_a-z][\w$@]*/i,q],["typ",/^(?:[@_]?[A-Z]+[a-z][\w$@]*|\w+_t\b)/,q],["pln",/^[$_a-z][\w$@]*/i,q],["lit",/^(?:0x[\da-f]+|(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d\+)(?:e[+-]?\d+)?)[a-z]*/i,q,"0123456789"],["pln",/^\\[\S\s]?/,q],["pun",/^.[^\s\w"-$'.\/@\\`]*/,q]),d(b,c)}function f(a,b){function c(a){switch(a.nodeType){case 1:if(f.test(a.className))break;if("BR"===a.nodeName)d(a),a.parentNode&&a.parentNode.removeChild(a);else for(a=a.firstChild;a;a=a.nextSibling)c(a);break;case 3:case 4:if(i){var b=a.nodeValue,e=b.match(g);if(e){var j=b.substring(0,e.index);a.nodeValue=j,(b=b.substring(e.index+e[0].length))&&a.parentNode.insertBefore(h.createTextNode(b),a.nextSibling),d(a),j||a.parentNode.removeChild(a)}}}}function d(a){function b(a,c){var d=c?a.cloneNode(!1):a,e=a.parentNode;if(e){var e=b(e,1),f=a.nextSibling;e.appendChild(d);for(var g=f;g;g=f)f=g.nextSibling,e.appendChild(g)}return d}for(;!a.nextSibling;)if(!(a=a.parentNode))return;for(var c,a=b(a.nextSibling,0);(c=a.parentNode)&&1===c.nodeType;)a=c;j.push(a)}var e,f=/(?:^|\s)nocode(?:\s|$)/,g=/\r\n?|\n/,h=a.ownerDocument;a.currentStyle?e=a.currentStyle.whiteSpace:window.getComputedStyle&&(e=h.defaultView.getComputedStyle(a,q).getPropertyValue("white-space"));var i=e&&"pre"===e.substring(0,3);for(e=h.createElement("LI");a.firstChild;)e.appendChild(a.firstChild);for(var j=[e],k=0;k<j.length;++k)c(j[k]);b===(0|b)&&j[0].setAttribute("value",b);var l=h.createElement("OL");l.className="linenums";for(var m=Math.max(0,b-1|0)||0,k=0,n=j.length;k<n;++k)e=j[k],e.className="L"+(k+m)%10,e.firstChild||e.appendChild(h.createTextNode(" ")),l.appendChild(e);a.appendChild(l)}function g(a,b){for(var c=b.length;--c>=0;){var d=b[c];u.hasOwnProperty(d)?window.console&&console.warn("cannot override language handler %s",d):u[d]=a}}function h(a,b){return a&&u.hasOwnProperty(a)||(a=/^\s*</.test(b)?"default-markup":"default-code"),u[a]}function i(a){var c=a.g;try{var d=b(a.h),e=d.a;a.a=e,a.c=d.c,a.d=0,h(c,e)(a);var f=/\bMSIE\b/.test(navigator.userAgent),c=/\n/g,g=a.a,i=g.length,d=0,j=a.c,k=j.length,e=0,l=a.e,m=l.length,a=0;l[m]=i;var n,o;for(o=n=0;o<m;)l[o]!==l[o+2]?(l[n++]=l[o++],l[n++]=l[o++]):o+=2;for(m=n,o=n=0;o<m;){for(var p=l[o],q=l[o+1],r=o+2;r+2<=m&&l[r+1]===q;)r+=2;l[n++]=p,l[n++]=q,o=r}for(l.length=n;e<k;){var s,t=j[e+2]||i,u=l[a+2]||i,r=Math.min(t,u),v=j[e+1];if(1!==v.nodeType&&(s=g.substring(d,r))){f&&(s=s.replace(c,"\r")),v.nodeValue=s;var w=v.ownerDocument,x=w.createElement("SPAN");x.className=l[a+1];var y=v.parentNode;y.replaceChild(x,v),x.appendChild(v),d<t&&(j[e+1]=v=w.createTextNode(g.substring(r,t)),y.insertBefore(v,x.nextSibling))}d=r,d>=t&&(e+=2),d>=u&&(a+=2)}}catch(a){"console"in window&&console.log(a&&a.stack?a.stack:a)}}var j=["break,continue,do,else,for,if,return,while"],k=[[j,"auto,case,char,const,default,double,enum,extern,float,goto,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],l=[k,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,dynamic_cast,explicit,export,friend,inline,late_check,mutable,namespace,nullptr,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],m=[k,"abstract,boolean,byte,extends,final,finally,implements,import,instanceof,null,native,package,strictfp,super,synchronized,throws,transient"],n=[m,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,interface,internal,into,is,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var"],k=[k,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],o=[j,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],p=[j,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],j=[j,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"],r=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)/,s=/\S/,t=e({keywords:[l,n,k,"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END"+o,p,j],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),u={};g(t,["default-code"]),g(d([],[["pln",/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],["com",/^<\!--[\S\s]*?(?:--\>|$)/],["lang-",/^<\?([\S\s]+?)(?:\?>|$)/],["lang-",/^<%([\S\s]+?)(?:%>|$)/],["pun",/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\S\s]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\S\s]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\S\s]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]),g(d([["pln",/^\s+/,q," \t\r\n"],["atv",/^(?:"[^"]*"?|'[^']*'?)/,q,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w-.:]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^\s"'>]*(?:[^\s"'\/>]|\/(?=\s)))/],["pun",/^[\/<->]+/],["lang-js",/^on\w+\s*=\s*"([^"]+)"/i],["lang-js",/^on\w+\s*=\s*'([^']+)'/i],["lang-js",/^on\w+\s*=\s*([^\s"'>]+)/i],["lang-css",/^style\s*=\s*"([^"]+)"/i],["lang-css",/^style\s*=\s*'([^']+)'/i],["lang-css",/^style\s*=\s*([^\s"'>]+)/i]]),["in.tag"]),g(d([],[["atv",/^[\S\s]+/]]),["uq.val"]),g(e({keywords:l,hashComments:!0,cStyleComments:!0,types:r}),["c","cc","cpp","cxx","cyc","m"]),g(e({keywords:"null,true,false"}),["json"]),g(e({keywords:n,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:r}),["cs"]),g(e({keywords:m,cStyleComments:!0}),["java"]),g(e({keywords:j,hashComments:!0,multiLineStrings:!0}),["bsh","csh","sh"]),g(e({keywords:o,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py"]),g(e({keywords:"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["perl","pl","pm"]),g(e({keywords:p,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb"]),g(e({keywords:k,cStyleComments:!0,regexLiterals:!0}),["js"]),g(e({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,true,try,unless,until,when,while,yes",hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]),g(d([],[["str",/^[\S\s]+/]]),["regex"]),window.prettyPrintOne=function(a,b,c){var d=document.createElement("PRE");return d.innerHTML=a,c&&f(d,c),i({g:b,i:c,h:d}),d.innerHTML},window.prettyPrint=function(a){function b(){for(var c=window.PR_SHOULD_USE_CONTINUATION?j.now()+250:1/0;l<d.length&&j.now()<c;l++){var e=d[l],g=e.className;if(g.indexOf("prettyprint")>=0){var h,n,g=g.match(m);if(n=!g){n=e;for(var o=void 0,p=n.firstChild;p;p=p.nextSibling)var q=p.nodeType,o=1===q?o?n:p:3===q&&s.test(p.nodeValue)?n:o;n=(h=o===n?void 0:o)&&"CODE"===h.tagName}for(n&&(g=h.className.match(m)),g&&(g=g[1]),n=!1,o=e.parentNode;o;o=o.parentNode)if(("pre"===o.tagName||"code"===o.tagName||"xmp"===o.tagName)&&o.className&&o.className.indexOf("prettyprint")>=0){n=!0;break}n||((n=!!(n=e.className.match(/\blinenums\b(?::(\d+))?/))&&(!n[1]||!n[1].length||+n[1]))&&f(e,n),k={g:g,h:e,i:n},i(k))}}l<d.length?setTimeout(b,250):a&&a()}for(var c=[document.getElementsByTagName("pre"),document.getElementsByTagName("code"),document.getElementsByTagName("xmp")],d=[],e=0;e<c.length;++e)for(var g=0,h=c[e].length;g<h;++g)d.push(c[e][g]);var c=q,j=Date;j.now||(j={now:function(){return+new Date}});var k,l=0,m=/\blang(?:uage)?-([\w.]+)(?!\S)/;b()},window.PR={createSimpleLexer:d,registerLangHandler:g,sourceDecorator:e,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",PR_NOCODE:"nocode",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ"}}();var root=this,UW=function(a){return a instanceof UW?a:this instanceof UW?void(this._wrapped=a):new UW(a)};root.UW=UW,UW.VERSION="0.1",UW.KEYCODES={TAB:9,ENTER:13,ESC:27},UW.elements={alert:".uw-thinstrip",accordion:".uw-accordion",dropdowns:"#dawgdrops",images:"a > img",mobilemenu:"#mobile-relative",togglemobile:"#mobile-sidebar",radio:":radio",checkbox:":checkbox",search:"#uwsearcharea",select:".uw-select",quicklinks:".uw-quicklinks",slideshow:".uw-slideshow",social:".uw-social",vimeo:".uw-vimeo",youtube:".uw-youtube"},UW.getBaseUrl=function(){var a=_.first(_.compact(Backbone.history.location.pathname.split("/")));return Backbone.history.location.origin||(Backbone.history.location.origin=Backbone.history.location.protocol+"//"+Backbone.history.location.hostname+(Backbone.history.location.port?":"+Backbone.history.location.port:"")),-1!=Backbone.history.location.origin.indexOf("www.washington.edu")?Backbone.history.location.origin+(a?"/"+a:"")+"/":-1!=Backbone.history.location.origin.indexOf("depts.washington.edu")?Backbone.history.location.origin+(a?"/"+a:"")+"/":Backbone.history.location.origin+"/"},UW.wpinstance=function(){return Backbone.history.location.pathname?Backbone.history.location.pathname:""},UW.sources={quicklinks:"undefined"!=typeof style_dir?style_dir+"/wp-admin/admin-ajax.php?action=quicklinks":UW.getBaseUrl()+"wp-admin/admin-ajax.php?action=quicklinks",search:UW.getBaseUrl()+"wp-admin/admin-ajax.php"},UW.initialize=function(a){UW.$body=a("body"),UW.$window=a(window),UW.baseUrl=UW.getBaseUrl(),UW.dropdowns=_.map(a(UW.elements.dropdowns),function(a){return new UW.Dropdowns({el:a})}),UW.mobilemenu=_.map(a(UW.elements.mobilemenu),function(a){return new UW.MobileMenu({el:a})}),UW.quicklinks=_.map(a(UW.elements.quicklinks),function(a){return new UW.QuickLinks({el:a,url:UW.sources.quicklinks})}),UW.search=_.map(a(UW.elements.search),function(a){return new UW.Search({el:a})}),UW.images=_.map(a(UW.elements.images),function(a){return new UW.Image({el:a})}),UW.togglemobile=_.map(a(UW.elements.togglemobile),function(a){return new UW.ToggleSidebarMenu({el:a})}),UW.slideshows=_.map(a(UW.elements.slideshow),function(a){return new UW.Slideshow({el:a})}),UW.social=_.map(a(UW.elements.social),function(a){return new UW.Social({el:a})}),UW.vimeo=_.map(a(UW.elements.vimeo),function(a){return new UW.Vimeo({el:a})}),UW.youtube=_.map(a(UW.elements.youtube),function(a){return new UW.YouTube.Collection({el:a})}),UW.accordion=_.map(a(UW.elements.accordion),function(a){return new UW.Accordion({el:a})}),UW.radio=_.map(a(UW.elements.radio),function(a){return new UW.Radio({el:a})}),UW.checkbox=_.map(a(UW.elements.checkbox),function(a){return new UW.Radio({el:a})}),UW.select=_.map(a(UW.elements.select),function(a){return new UW.Select({el:a})}),UW.alert=new UW.Alert({after:UW.elements.alert,model:new UW.Alert.Model}),a("table").addClass("table table-striped").attr("border",1),a("pre").addClass("prettyprint"),window.prettyPrint&&prettyPrint()},jQuery(document).ready(function(){UW.initialize(jQuery)}),UW.Alert=Backbone.View.extend({alert:"#uwalert-alert-message",events:{"click .close":"hide"},template:'<div id="uwalert-alert-message" class="<% _.each( categories, function( category ) { %> <%= category.slug %> <% }) %>"><div class="container"><span class="close">Close</span><h1><%= title %></h1><p><%= excerpt %><a class="more" href="http://emergency.uw.edu" title="<%= title %>">More info</a></p></div></div>',initialize:function(a){_.bindAll(this,"render","hide"),this.options=_.extend({},a),this.model.on("sync",this.render)},render:function(){this.model.get("title")&&($(this.options.after).after(_.template(this.template)(this.model.toJSON())),this.setElement($(this.alert)))},hide:function(){this.$el.remove()}}),UW.Alert.Model=Backbone.Model.extend({alerts:["red-alert-urgent","orange-alert","steel-alert-fyis"],data:{c:"?",test:!0,number:1,type:"post",status:"publish",dataType:"json"},url:"https://public-api.wordpress.com/rest/v1/sites/uwemergency.wordpress.com/posts/",initialize:function(){this.fetch({data:this.data})},parse:function(a){var b=_.first(a.posts);if(_.extend(b.categories,{alert:{slug:window.location.hash.replace("#","")}}),_.intersection(_.pluck(b.categories,"slug"),this.alerts).length||-1!==b.categories.alert.slug.indexOf("uwalert"))return b}}),UW.SearchToggle=Backbone.View.extend({el:"button.uw-search",events:{click:"toggleSearchBar"},settings:{isOpen:!1},initialize:function(){},toggleSearchBar:function(){return this.settings.isOpen=!this.settings.isOpen,this.trigger("open"),UW.$body.toggleClass("search-open"),this.settings.isOpen?(this.$el.attr("aria-label","close search area"),this.$el.attr("aria-expanded","true")):(this.$el.attr("aria-label","open search area"),this.$el.attr("aria-expanded","false")),!1}}),UW.Search=Backbone.View.extend({searchFeatures:{uw:"uw",site:"site"},searchbar:'<div class="container no-height" role="search"><div class="center-block uw-search-wrapper"><form class="uw-search" action="<%= UW.baseUrl %>"><div class="search-form-wrapper"><label class="screen-reader" for="uw-search-bar">Enter search text</label><input id="uw-search-bar" type="search" name="s" value="" autocomplete="off" placeholder="Search" /></div><select id="mobile-search-select" class="visible-xs" aria-label="Search Scope"><option value="uw" selected>All the UW</option><option value="site">Current site</option></select><input type="submit" value="search" class="search" tabindex="0"/><fieldset style="margin: 0; padding: 0; border: 1px; solid #ffffff;"><div role="radiogroup" id="search-labels" class="labels hidden-xs"><label class="radio"><input role="radio" class="radiobtn" type="radio" name="search" value="uw" data-toggle="radio" checked />All the UW</label><label class="radio"><input role="radio" class="radiobtn" type="radio" name="search" value="site" data-toggle="radio" />Current site</label></form></div></fieldset></div></div>',defaults:{},events:{"click label.radio":"toggleSearchFeature","change select":"toggleSearchFeature","click .search":"submitForm","submit form":"submitSearch",keydown:"handleKeyDown","focus input":"skipToContentIfHidden"},initialize:function(a){this.settings=_.extend({},this.defaults,this.$el.data(),a),this.render(),this.toggle=new UW.SearchToggle,this.toggle.on("open",this.toggleBlur,this),this.searchFeature=this.$el.find(":radio:checked").val()},render:function(){this.$el.html(_.template(this.searchbar)(this.settings))},toggleBlur:function(){this.toggle.settings.isOpen?(this.$el.find("#uw-search-bar").focus(),this.$el.attr("aria-hidden","false").attr("role","search")):this.$el.attr("aria-hidden","true").removeAttr("role")},handleKeyDown:function(a){switch(a.keyCode){case UW.KEYCODES.TAB:return $(a.target)[0]!=$("input.search")[0]||$(a)[0].shiftKey||$("#search-labels").addClass("focused"),$(a.target)[0]!=$("input.search")[0]&&$("#search-labels").hasClass("focused")&&$("#search-labels").removeClass("focused"),!($(a.target)[0]==$("input.radiobtn")[0]&&!$(a)[0].shiftKey)||(this.toggle.$el.focus(),!1);case UW.KEYCODES.ESC:return a.stopPropagation(),this.toggle.toggleSearchBar(),this.toggle.$el.focus(),!1;default:return!0}},toggleSearchFeature:function(a){var b=$(a.currentTarget).find("input").val();this.searchFeature=b},skipToContentIfHidden:function(){this.toggle.settings.isOpen||$("#main-content").focus()},submitSearch:function(a){switch(this.$el.find("input.radiobtn").attr("disabled","disabled"),this.searchFeature){case this.searchFeatures.uw:return this.$el.find("#uw-search-bar").attr("name","q"),this.$el.find("form").attr("action",Backbone.history.location.protocol+"//uw.edu/search/"),!0;case this.searchFeatures.site:return!0;default:return!1}},submitForm:function(){return this.$el.find("form").submit(),!1}}),UW.QuickLinks=Backbone.View.extend({DELAY:500,settings:{},container:"#uw-container",template:'<nav id="quicklinks" aria-label="quick links" aria-hidden="true"><ul id="big-links"><% _.each( links, function( link ) { %> <% if (link.classes) { %><li><span class="<%= link.classes %>"></span><a href="<%= link.url %>" tabindex="-1"><%= link.title %></a></li><% } %><% }) %></ul><h3>Helpful Links</h3><ul id="little-links"><% _.each( links, function( link ) { %> <% if ( ! link.classes) { %><li><span class="<%= link.classes %>"></span><a href="<%= link.url %>" tabindex="-1"><%= link.title %></a></li><% } %><% }) %></ul></nav>',events:{click:"animate",touchstart:"animate",keyup:"animate",blur:"loop"},initialize:function(a){_.bindAll(this,"inner_keydown","render","renderDefault","animate","accessible","loop","transitionEnd"),this.options=_.extend({},this.settings,a),this.links=new UW.QuickLinks.Collection(this.options),this.links.on("sync",this.render),this.links.on("error",this.renderDefault),this.links.fetch()},renderDefault:function(){this.defaultLinks=this.links.defaults,this.render()},render:function(){this.quicklinks=$(_.template(this.template)({links:this.defaultLinks?this.defaultLinks:this.links.toJSON()})),this.$container=$(this.container),this.$container.prepend(this.quicklinks),this.$el.attr("aria-controls","quicklinks").attr("aria-owns","quicklinks"),UW.$body.on("keydown","#quicklinks a:first",this.inner_keydown),UW.$body.on("keyup","#quicklinks a",this.animate),this.quicklinks.on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",this.transitionEnd)},transitionEnd:function(a){this.open&&a.target==this.quicklinks[0]&&this.accessible()},inner_keydown:function(a){if(9==a.keyCode&&a.shiftKey)return this.$el.focus(),!1},animate:function(a){if(a.preventDefault(),a.keyCode&&27!=a.keyCode&&(a.keyCode&&13!=a.keyCode||a.keyCode&&32!=a.keyCode))return!1;this.$container.toggleClass("open"),this.quicklinks.toggleClass("open"),this.open=this.quicklinks.hasClass("open"),this.open||this.accessible()},accessible:function(a){this.$el.attr("aria-expanded",this.open),this.quicklinks.attr("aria-hidden",(!this.open).toString()),this.open?(this.$el.attr("aria-label","Close quick links"),this.quicklinks.find("a").attr("tabindex",0).first().focus(),$("#uw-container-inner").attr("aria-hidden",!0),$(".screen-reader-shortcut").attr("aria-hidden",!0)):(this.$el.attr("aria-label","Open quick links"),this.quicklinks.find("a").attr("tabindex",-1),this.$el.focus(),$("#uw-container-inner").attr("aria-hidden",!1),$(".screen-reader-shortcut").attr("aria-hidden",!1))},loop:function(a){this.open&&this.quicklinks.find("li a").first().focus()}}),UW.QuickLinks.Model=Backbone.Model.extend({}),UW.QuickLinks.Collection=Backbone.Collection.extend({model:UW.QuickLinks.Model,initialize:function(a){this.url=a.url},defaults:[{title:"MyUW",url:"http://myuw.washington.edu",classes:["icon-myuw"]},{title:"Calendar",url:"http://uw.edu/calendar",classes:["icon-calendar"]},{title:"Directories",url:"http://uw.edu/directory/",classes:["icon-directories"]},{title:"Libraries",url:"http://www.lib.washington.edu/",classes:["icon-libraries"]},{title:"UW Medicine",url:"http://www.uwmedicine.org",classes:["icon-medicine"]},{title:"Maps",url:"http://uw.edu/maps",classes:["icon-maps"]},{title:"UW Today",url:"http://uw.edu/news",classes:["icon-uwtoday"]},{title:"Computing/IT",url:"http://itconnect.uw.edu",classes:!1},{title:"Employee Self Service",url:"http://isc.uw.edu/",classes:!1},{title:"Husky Card",url:"http://hfs.uw.edu/Husky-Card-Services/",classes:!1},{title:"UW Bothell",url:"http://www.uwb.edu/",classes:!1},{title:"UW Tacoma",url:"http://www.tacoma.uw.edu/",classes:!1},{title:"UW Facebook",url:"https://www.facebook.com/UofWA",classes:!1},{title:"UW Twitter",url:"https://twitter.com/UW",classes:!1}]}),UW.Slideshow=Backbone.View.extend({el:".uw-slideshow",current:0,controls:'<a tabIndex="-1" href="#" class="<%= classname %> next"></a><a tabIndex="-1" href="#" class="<%= classname %> previous"></a>',animation:{},settings:{slideclass:".slide",controlclasses:{base:"uw-slideshow-controls",lastNext:"last-next",lastPrev:"last-previous"},animationOptions:{easing:"easeOutQuint",duration:1200,queue:!1}},events:{"click .previous":"animateIn","click .next":"animateOut","click .slider-dots li":"dotsAnimate","click .fullscreen":"goFullscreen"},initialize:function(a){this.options=_.extend({},this.settings,a),_.bindAll(this,"animateIn","animateOut","addControls","zIndex","moveDots","goFullscreen"),this.controls=_.template(this.controls)({classname:this.options.controlclasses.base}),this.numberOfSlides=this.$el.find(".slide").length-1,this.photoSlider=this.$el.hasClass("photo-slider"),this.organizeSlideshow(),this.addControls(),this.photoSlideshow(),this.mobileSizing(),this.focusControls(this)},organizeSlideshow:function(){_.each(this.$(".slide").get(),this.zIndex)},mobileSizing:function(){function a(){var a=$(".uw-slideshow"),b=$(".uw-slideshow img:first").height()+50,c=a.find(".slider-dots");windowsize=$(window).width(),windowsize<768&&(a.css("height",b),c.css("marginTop",b-40))}this.photoSlider&&(a(),$(window).resize(a))},photoSlideshow:function(){if(this.photoSlider){for($("."+this.el.classList[2]).append('<ul class="slider-dots slider-dots-'+this.el.classList[2]+'"></ul>','<a tabIndex="-1" class="fullscreen" href="#">Fullscreen</a>'),i=0;i<this.numberOfSlides+1;i++)$(".slider-dots-"+this.el.classList[2]).append("<li></li>");$(".slider-dots-"+this.el.classList[2]+" li:nth-child(1)").addClass("select-dot")}},goFullscreen:function(a){$("body").toggleClass("activeFullscreen"),event.preventDefault()},moveDots:function(){$(".slider-dots-"+this.el.classList[2]+" li").removeClass("select-dot"),$(".slider-dots-"+this.el.classList[2]+" li:nth-child("+(this.current+1)+")").addClass("select-dot")},dotsAnimate:function(a){var b=$(".slider-dots-"+this.el.classList[2]+" li").index(a.target);if(this.moveDots(),b>this.current)for(i=this.current+1;i<=b;i++)this.animateOut();else if(b<this.current){var c=this.current-1;for(i=b;i<=c;i++)this.animateIn()}},addControls:function(){this.numberOfSlides>0&&(this.$el.append(this.controls),this.$el.find(this.options.controlclass),this.$el.addClass(this.options.controlclasses.lastPrev))},animateIn:function(a){return this.direction="in",this.current=this.current<0?-1:this.current-1,this.animation.textLeft=0,this.animation.imageLeft=0,this.animate(),this.current=this.current<0?0:this.current,this.toggleClasses(),this.moveDots(),!1},animateOut:function(a){return this.direction="out",this.animation.textLeft="-200%",this.animation.imageLeft="100%",this.animate(),this.current=this.current===this.numberOfSlides?this.numberOfSlides:this.current+1,this.toggleClasses(),this.moveDots(),!1},animate:function(){this.nextSlideExists()&&this.$(this.options.slideclass).eq(this.current).animate({left:this.animation.imageLeft},this.options.animationOptions).find("div").animate({left:this.animation.textLeft},this.options.animationOptions)},toggleClasses:function(){if(this.$el.removeClass(this.options.controlclasses.lastNext+" "+this.options.controlclasses.lastPrev),0===this.current||this.current===this.numberOfSlides)return this.$el.addClass("out"===this.direction?this.options.controlclasses.lastNext:this.options.controlclasses.lastPrev)},nextSlideExists:function(){return!(this.current<0&&"in"===this.direction||this.current===this.numberOfSlides&&"out"===this.direction)},zIndex:function(a){var b=this.$(a);b.css({zIndex:-1*b.index()+this.numberOfSlides})},focusControls:function(a){function b(a){for(var b,c=a.context.activeElement.children,d=[],e=0;e<c.length;e++)b=c[e],0===b.className.indexOf("slide")&&d.push(b);return d}function c(a){for(var c,d=b(a),e=0;e<d.length;e++)if(c=d[e],"100%"!=c.style.left)return c;return!1}function d(a){return a.children[0].href}function e(b){if(9==b.keyCode)return!0;if(39==b.keyCode)return a.animateOut(b),!1;if(37==b.keyCode)return a.animateIn(b),!1;if(13==b.keyCode){var e=c(f);if(e){var g=d(e);window.location.href=g}}return!1}var f=$(".uw-slideshow");f.keydown(e)}}),UW.YouTube={},UW.YouTube.Collection=Backbone.Collection.extend({initialize:function(a){_(this).bindAll("parse"),this.el=a.el,this.$el=$(this.el),this.youtube_id=this.$el.data("uw-youtube"),this.setup_for_type(),this.make_view(),this.fetch({success:this.view.onDataReady})},setup_for_type:function(a){if(this.type=this.$el.data("uw-youtube-type"),this.modest=this.$el.data("modest"),this.resolution=this.$el.data("resolution"),"playlist"==this.type){this.max_results=20;var b=parseInt(this.$el.data("max-results"),10);b>0&&(this.max_results=b),this.model=UW.YouTube.PlaylistItem,this.url="https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId="+this.youtube_id+"&key=AIzaSyApmhFr5oa8bmKPcpN7bm-h0mekjkUVypU&maxResults="+this.max_results}else"single"==this.type&&(this.model=UW.YouTube.Video,this.url="https://www.googleapis.com/youtube/v3/videos?part=snippet&id="+this.youtube_id+"&key=AIzaSyApmhFr5oa8bmKPcpN7bm-h0mekjkUVypU")},parse:function(a){var b=this.type,c=this.youtube_id;return _(a.items).map(function(a){return"single"==b&&(a.snippet.resourceId={videoId:c}),a.snippet})},make_view:function(a){this.view=new UW.YouTube.CollectionView({collection:this})}}),UW.YouTube.CollectionView=Backbone.View.extend({template:"<div class='nc-video-player' role='region' aria-label='video' tabindex=-1><div class='tube-wrapper'></div></div>",playlist_section:"<div class='vidSmall'><div class='scrollbar'><div class='track'><div class='thumb'><div class='end'></div></div></div></div><div class='viewport'><div class='vidContent overview'><ul></ul></div></div></div>",events:{"click button":"preview_clicked"},initialize:function(){_(this).bindAll("onReady","onDataReady","onStateChange","preview_clicked","resized"),this.player_ready=!1,this.data_ready=!1,this.wrap(),this.add_iFrame_api(),"playlist"==this.collection.type&&(this.$el.addClass("playlist"),this.add_playlist_section(),this.scrollbar_visible=!1,$(window).resize(this.resized))},resized:function(){var a=this.$vidSmall.find(".viewport").width();a!=this.$viewport_width&&(this.$viewport_width=a,this.showTinyScrollbar())},wrap:function(){this.collection.$el.wrap($(this.template)),this.$el=this.collection.$el.parents(".nc-video-player"),this.el=this.$el[0]},add_iFrame_api:function(){0===UW.$body.find("script#iFrame").length&&(UW.$body.append('<script id="iFrame" src="//www.youtube.com/player_api" type="text/javascript"><\/script>'),this.add_iFrame_function())},add_iFrame_function:function(){window.onYouTubeIframeAPIReady=function(){for(var a=0,b=UW.youtube.length;a<b;a++){var c=UW.youtube[a],d={};c.modest&&(d={rel:0,controls:0,modestbranding:1}),c.view.uwplayer=new YT.Player(c.$el.attr("id"),{videoId:"",playerVars:d,events:{onReady:c.view.onReady,onStateChange:c.view.onStateChange}})}}},add_playlist_section:function(){this.$el.append(this.playlist_section),this.$vidSmall=this.$el.find(".vidSmall"),this.$vidContent=this.$el.find(".vidContent"),this.scrollbar_visible=!1},onReady:function(){this.player_ready=!0,this.check_all_ready()},onDataReady:function(){this.data_ready=!0,"playlist"==this.collection.type&&(this.$vidContent_width=135*this.collection.models.length,this.$vidContent.width(this.$vidContent_width+"px"),this.$viewport_width=this.$vidSmall.find(".viewport").width(),this.showTinyScrollbar()),this.check_all_ready()},showTinyScrollbar:function(){this.$vidContent_width>this.$viewport_width?this.scrollbar_visible||(this.$vidSmall.find(".scrollbar").show(),this.$vidSmall.tinyscrollbar({axis:"x"}),this.scrollbar_visible=!0):this.scrollbar_visible&&(this.$vidSmall.find(".scrollbar").removeAttr("style"),this.scrollbar_visible=!1)},check_all_ready:function(){this.data_ready&&this.player_ready&&this.play(this.collection.models[0].get("resourceId").videoId)},onStateChange:function(a){if(this.is_playlist&&0===a.data){var b=this.$vidContent.find(".vid-active").attr("id"),c=this.video_ids.indexOf(b);c<this.video_ids.length-1?this.play(this.video_ids[c+1]):this.play(this.video_ids[0])}},play:function(a,b){if(b=b||!1,b?(this.uwplayer.loadVideoById(a),this.$el.focus()):this.uwplayer.cueVideoById(a),"playlist"==this.collection.type){this.$el.find("a.vid-active").removeClass("vid-active");var c=$("#"+a);if(c.addClass("vid-active"),this.$el.attr("aria-label","video: "+c.data("title")),this.scrollbar_visible){var d=c.position().left;this.$vidContent_width-d<this.$viewport_width&&(d=this.$vidContent_width-this.$viewport_width),this.$vidContent.animate({left:-d},500),this.$vidSmall.data("plugin_tinyscrollbar").update(d)}}},preview_clicked:function(a){this.play(a.currentTarget.id,!0)}}),UW.YouTube.Video=Backbone.Model.extend({initialize:function(){this.get("resourceId")&&(this.view=new UW.YouTube.VideoView({model:this}))}}),UW.YouTube.VideoView=Backbone.View.extend({initialize:function(){this.render()},render:function(){this.model.collection.view.$el.attr("aria-label","video: "+this.model.get("title"))}}),UW.YouTube.PlaylistItem=Backbone.Model.extend({initialize:function(){this.get("resourceId")&&(this.view=new UW.YouTube.PlaylistItemView({model:this}))}}),UW.YouTube.PlaylistItemView=Backbone.View.extend({template:"<li><button id='<%= resourceId.videoId %>' data-title='<%= title %>' class='video'><img src='<%= thumbnails.default.url %>'/><div class='text'><p class='title'><%= title %></p></div></button></li>",initialize:function(){this.$el=this.model.collection.view.$vidContent.find("ul"),this.render()},render:function(){var a=this.model.toJSON(),b=_.template(this.template)(a);this.$el.append(b)}}),UW.Vimeo=Backbone.View.extend({el:".uw-vimeo",events:{"click .preview":"loadVideo"},templates:{video:'<iframe id="test" src="https://player.vimeo.com/video/<%= video %>/?<%= $.param( defaults ) %>" width=<%= width %> height=<%= height %> title="<%= video.title %>" style=border:0 webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>',playlist:'<div class="playlist"><% _.each( videos, function( video ) { %><div class="preview" data-id=<%= video.id %>><img src="<%= video.thumbnail_small %>" height=75 width=100 title="<%= video.title %>"/></div><% }) %></div>'},settings:{width:580,height:350},defaults:{api:1,title:0,portrait:0,byline:0,color:"4B2E82"},initialize:function(a){_.bindAll(this,"single","playlist","loadVideo"),this.options=_.extend({},this.settings,this.$el.data(),a),this.options.defaults=this.defaults,this.$el.width(this.options.width),this.options.video&&(this.video=new UW.Vimeo.Video(this.options.video),this.video.on("sync",this.single)),this.options.username&&(this.videos=new UW.Vimeo.Playlist({username:this.options.username}),this.videos.on("sync",this.playlist))},single:function(){this.player=_.template(this.templates.video)(this.options),this.$el.html(this.player)},playlist:function(){_.extend(this.options,{video:this.videos.first().get("id")}),this.player=_.template(this.templates.video)(this.options),this.videoList=_.template(this.templates.playlist)({videos:this.videos.toJSON()}),this.$el.html(this.player),this.$el.append(this.videoList)},loadVideo:function(a){var b=this.$el.find("iframe"),c=_.last(b.attr("src").split("?")),d="https://player.vimeo.com/video/"+$(a.currentTarget).data().id+"/?"+c;b.attr("src",d)}}),UW.Vimeo.Video=Backbone.Model.extend({url:function(){return"https://vimeo.com/api/v2/video/"+this.video+".json"},parse:function(a){return _.first(a)},initialize:function(a){this.video=a,this.fetch()}}),UW.Vimeo.Playlist=Backbone.Collection.extend({url:function(){return"https://vimeo.com/api/v2/"+this.username+"/videos.json"},initialize:function(a){this.username=a.username,this.fetch()},parse:function(a){return _.where(a,{embed_privacy:"anywhere"})}}),UW.Radio=Backbone.View.extend({states:{checked:"checked",disabled:"disabled"},events:{"click input":"toggle"},template:'<span class="icons"><span class="first-icon fui-radio-unchecked"></span><span class="second-icon fui-radio-checked"></span></span>',initialize:function(a){_.bindAll(this,"toggle","getGroup","toggleCheckBox"),this.settings=_.extend({},this.defaults,this.$el.data(),a),this.$el.after(this.template),this.$input=this.$el,this.name=this.$el.attr("name"),this.setElement(this.$el.closest("label")),this.setState()},setState:function(){this.$input.prop(this.states.disabled)&&this.$el.addClass(this.states.disabled),this.$input.prop(this.states.checked)&&this.$el.addClass(this.states.checked)},getGroup:function(){return"radio"===this.$input.attr("type")?_.where(UW.radio,{name:this.name}):"checkbox"===this.$input.attr("type")?_.where(UW.checkbox,{name:this.name}):void 0},toggle:function(a){_.each(this.getGroup(),this.toggleCheckBox)},toggleCheckBox:function(a){var b=a.$input.prop(this.states.checked),c=a.$input.prop(this.states.disabled);!c&&a.$el.removeClass(this.states.checked)&&a.$el.removeAttr(this.states.checked).trigger("change"),c||(b&&a.$el.addClass(this.states.checked)&&a.$el.trigger($.Event("toggle")),b!==a.$el.prop(this.states.checked)&&a.$el.trigger("change"))}}),UW.Dropdowns=Backbone.View.extend({chunkSize:8,menuWidth:1170,menuBlock:'<div class="menu-block"></div>',menuBlockWidth:230,index:{topmenu:0,submenu:0},elements:{toplevel:".dawgdrops-item"},keys:{enter:13,esc:27,tab:9,left:37,up:38,right:39,down:40,spacebar:32},events:{"keydown .dawgdrops-menu a":"moveFocusInSubMenu","keydown .dawgdrops-item > a":"toggleSubMenu","focus .dawgdrops-item":"positionSubmenu","mouseenter .dawgdrops-item":"positionSubmenu"},initialize:function(a){_.bindAll(this,"render","chunk","wrap","wrapChildren","positionSubmenu","toggleSubMenu"),this.settings=_.extend({},this.defaults,this.$el.data(),a),this.$topLevelNav=this.$el.find(this.elements.toplevel),this.render()},render:function(){_.each(this.$topLevelNav,this.wrapChildren)},chunk:function(a,b){return Math.floor(b/this.chunkSize)},wrapChildren:function(a){$(a).find("li").length>this.chunkSize&&_.each(_.groupBy($(a).find("li"),this.chunk),this.wrap)},wrap:function(a){$(a).wrapAll(this.menuBlock)},positionSubmenu:function(a){var b=$(a.currentTarget),c=b.position(),d=b.find(".menu-block"),e=this.menuBlockWidth*d.length+c.left,f=e>UW.$window.width()?b.outerWidth()+c.left-d.length*this.menuBlockWidth:c.left;b.find("ul").css({top:c.top+58,left:f})},toggleSubMenu:function(a){switch(a.keyCode){case this.keys.enter:case this.keys.down:return $(a.currentTarget).attr("aria-expanded","true"),this.currentSubMenu=$(a.currentTarget).siblings("ul"),this.currentSubMenuAnchors=this.currentSubMenu.find("a"),this.currentSubMenu.attr("aria-expanded","true").show().find("a").eq(0).focus(),!1;case this.keys.left:return $(a.currentTarget).parent().prev().children("a").first().focus(),!1;case this.keys.right:return $(a.currentTarget).parent().next().children("a").first().focus(),!1;case this.keys.spacebar:return window.location.href=$(a.currentTarget).attr("href"),!1}},moveFocusInSubMenu:function(a){switch(a.keyCode){case this.keys.tab:this.currentSubMenu&&(this.currentSubMenu.hide(),this.currentSubMenu=null,this.index.submenu=0);break;case this.keys.down:return this.index.submenu=this.index.submenu===this.currentSubMenuAnchors.length-1?0:this.index.submenu+1,this.currentSubMenuAnchors.eq(this.index.submenu).focus(),!1;case this.keys.up:return this.index.submenu=0===this.index.submenu?this.currentSubMenuAnchors.length-1:this.index.submenu-1,this.currentSubMenuAnchors.eq(this.index.submenu).focus(),!1;case this.keys.left:return this.currentSubMenu.hide().parent().prev().children("a").first().focus(),this.index.submenu=0,this.currentSubMenu.attr("aria-expanded","false").parent().children("a").first().attr("aria-expanded","false"),!1;case this.keys.right:return this.currentSubMenu.hide().parent().next().children("a").first().focus(),this.index.submenu=0,this.currentSubMenu.attr("aria-expanded","false").parent().children("a").first().attr("aria-expanded","false"),!1;case this.keys.spacebar:case this.keys.enter:return window.location.href=$(a.currentTarget).attr("href"),!1;case this.keys.esc:return this.currentSubMenu.attr("aria-expanded","false").hide().parent().children("a").first().attr("aria-expanded","false").focus(),!1;default:var b=String.fromCharCode(a.which),c=!1;return this.currentSubMenuAnchors.filter(function(){return c=this.innerHTML.charAt(0)===b}).first().focus(),!c}}}),UW.MobileMenu=Backbone.View.extend({events:{"click button":"toggle","click a":"openmenu"},initialize:function(a){_.bindAll(this,"toggle","reset_li","openmenu","cloneMenuAnchors"),this.settings=_.extend({},this.defaults,this.$el.data(),a),this.$mobilemenu_ul=this.$el.find("ul.uw-mobile-menu")},cloneMenuAnchors:_.once(function(){this.$el.find(".menu-item-has-children > a").each(function(){var a=$(this),b=a.next("ul");a.next("ul").first().prepend("<li>"+a[0].outerHTML+"</li>"),a.attr("aria-expanded",!1),b.attr("aria-hidden",!0)})}),openmenu:function(a){var b=$(a.target),c=b.next();c.length>0&&(a.preventDefault(),c.attr("aria-hidden",function(a,b){return"true"===b?"false":"true"}),b.attr("aria-expanded",function(a,b){return"true"===b?"false":"true"}),b.parent().toggleClass("active-menu"))},toggle:function(a){this.$mobilemenu_ul.toggle(),this.$el.addClass("active_nav"),this.cloneMenuAnchors()},reset_li:function(){this.$mobilemenu.find("li").removeAttr("style")}}),UW.ToggleSidebarMenu=Backbone.View.extend({events:{"click button":"toggleContent"},initialize:function(){console.log(this.el),this.toggleContent()},toggleContent:function(a){!0===this.showmeState?this.hideLinks():this.showLinks()},hideLinks:function(){this.$el.find("#mobile-sidebar-links").removeClass("visible-xs"),this.$el.find("#mobile-sidebar-menu").removeClass("open"),this.$el.find("#mobile-sidebar-title").html("Open Menu"),this.showmeState=!1},showLinks:function(){this.$el.find("#mobile-sidebar-links").addClass("visible-xs"),this.$el.find("#mobile-sidebar-menu").addClass("open"),this.$el.find("#mobile-sidebar-title").html("Close Menu"),this.showmeState=!0}}),UW.Accordion=Backbone.View.extend({el:".uw-accordion",events:{"click h3":"animate"},initialize:function(){_.bindAll(this,"animate"),this.$el.find("h3").addClass("inactive"),this.$el.find("div").addClass("inactive")},animate:function(a){var b=$(a.target);if(b.hasClass("inactive")){this.$el.find("h3.active").removeClass("active").addClass("inactive"),this.$el.find("div.active").animate({height:"0px"},500,function(){var a=$(this);a.removeClass("active").addClass("inactive"),a.removeAttr("style")}),b.removeClass("inactive").addClass("active");var c=b.next("div.inactive");c.removeClass("inactive").addClass("active");var d=c.outerHeight(!0);c.removeClass("active"),c.animate({height:d},500,function(){c.addClass("active"),c.removeAttr("style")})}else b.removeClass("active").addClass("inactive"),b.next("div.active").animate({height:"0px"},500,function(){var a=$(this);a.removeClass("active").addClass("inactive"),a.removeAttr("style")})}}),UW.Select=Backbone.View.extend({el:".uw-select",submit:!1,current:0,keyCodes:{enter:13,spacebar:32,tab:9,up:38,down:40},events:{"keydown li":"openMenuOnKeydown","click li.active":"open","click li.inactive":"close","click .uw-select-arrow":"open","click .uw-select-arrow.open":"closeWithoutAnimating",click:"closeWithoutAnimating"},template:'<div class="uw-select-mask"><ul class="uw-select"><% _.each( lis, function( title, value ) { %><li data-value="<%= value %>"><a href="#"><%= title %></a></li><% }) %></ul><span class="uw-select-arrow"></span></div>',initialize:function(a){_.bindAll(this,"open","close","addOpenClass","removeOpenClass","closeWithoutAnimating"),this.options=_.extend({},this.settings,this.$el.data(),a),this.parseSelect(),this.render(),$("body").click(this.closeWithoutAnimating)},open:function(a){return this.isOpen()?(this.closeWithoutAnimating(),!1):(this.addOpenClass(),!1)},close:function(a){this.$target=$(a.currentTarget);var b=this.$target.index();return!this.isDisabled(b)&&(this.clicked=!0,this.current=b,this.animate(),this.toggleLIClasses(),!1)},isDisabled:function(a){var b=this.$el.find("li").eq(a).data().value;return this.$select.find('option[value="'+b+'"]').prop("disabled")},closeWithoutAnimating:function(){this.$el.removeClass("open"),this.$el.children().removeClass("open")},animate:function(){this.scroll=this.$target.offset().top-this.$el.find("li").first().offset().top,this.$el.children("ul").animate({scrollTop:this.scroll},{queue:!1,complete:this.removeOpenClass})},cloneSelectEvents:function(){var a=this.$el.find("li").eq(this.current).data().value;this.$select.val(a),this.$select.find('option[value="'+a+'"]').prop("selected",!0),this.submit&&this.$select.parent("form").submit(),this.trigger_link&&(window.location=a),this.$select.hasClass("uw-select-wp")&&(window.location=UW.baseUrl+"?cat="+a)},render:function(){this.html=_.template(this.template)({lis:this.LIs}),this.$el.hide().after(this.html),this.$select=this.$el,this.setElement(this.$el.next()),this.toggleLIClasses(),this.$el.find("li").length<7&&this.$el.children("ul").height("auto")},parseSelect:function(){var a=_.map(this.$el.find("option"),this.getValue),b=_.map(this.$el.find("option"),this.getText);this.$el.data("submit")&&(this.submit=!0),"links"==this.$el.data("type")&&(this.trigger_link=!0),this.current=this.$el.find(":selected").index(),this.LIs=_.object(a,b)},toggleLIClasses:function(){this.$el.find("li").removeClass().addClass("inactive"),this.$el.find("li").eq(this.current).removeClass().addClass("active")},addOpenClass:function(){this.$el.addClass("open"),this.$el.children().addClass("open"),this.$el.children("ul").scrollTop(this.scroll)},removeOpenClass:function(a){this.cloneSelectEvents(),(this.clicked||a)&&(this.$el.removeClass("open"),this.$el.children().removeClass("open"),this.clicked=!1)},getText:function(a){return $(a).text()},getValue:function(a){return a.value},openMenuOnKeydown:function(a){if(a.keyCode==this.keyCodes.tab&&!this.isOpen())return!0;if(_.contains(this.keyCodes,a.keyCode)){switch(this.isOpen()||this.open(),a.keyCode){case this.keyCodes.down:this.down();break;case this.keyCodes.up:this.up();break;case this.keyCodes.enter:case this.keyCodes.spacebar:this.current!=this.$select.val()&&(this.removeOpenClass(!0),this.toggleLIClasses(),this.cloneSelectEvents())}return!1}},up:function(){this.atEdge("up")||(this.current-=1,this.move())},down:function(){this.atEdge("down")||(this.current+=1,this.move())},move:function(){this.$target=this.$el.find("li").eq(this.current),this.$target.find("a").focus(),this.animate()},atEdge:function(a){return 0===this.current&&"up"===a||this.current===this.$el.find("li").length-1&&"down"===a},isOpen:function(){return this.$el.hasClass("open")}}),UW.Image=Backbone.View.extend({RATIO:.8,template:'<div class="uw-overlay"><div></div><div class="wrapper" style="width:<%= width %>px; margin-top:-<%= height/2 %>px; margin-left:-<%= width/2 %>px;"><span class="close"> Close</span><img src="<%= src %>" alt="<%=alt %>" style="width:100%;" /><p><%= caption %></p></div></div>',templateVideo:'<div class="uw-overlay"><div></div><div class="wrapper" style="width:<%= width %>px; margin-top:-<%= height/2 %>px; margin-left:-<%= width/2 %>px;"><span class="close"> Close</span><iframe width="<%= width %>" height="<%= height %>" src="<%= src %>" style="border:0" allowfullscreen="" title="<%= caption %>"></iframe><p><%= caption %></p><p><%= credit %></p></div></div>',events:{click:function(a){if(this.attrs=this.getAttributes(a),this.attrs.src)return this.fetchImage(),!1}},initialize:function(){_.bindAll(this,"fetchImage","overlay","render")},fetchImage:function(a){return $('<img src="'+this.attrs.src+'"/>').imagesLoaded(this.overlay),!1},overlay:function(a){var b=this.attrs.rel.indexOf("uw-lightbox-video")>-1;if(!b&&a.hasAnyBroken)return void(this.attrs.src&&(window.location=this.attrs.src));var c;return this.image=_.first(a.images),c=this.image.img.width/this.image.img.height,this.attrs.height=this.image.img.height,this.attrs.width=this.image.img.width,b&&(c=560/315,this.attrs.height=630,this.attrs.width=1120),this.attrs.height>this.RATIO*UW.$window.height()&&(this.attrs.height=this.RATIO*UW.$window.height(),this.attrs.width=c*this.attrs.height),this.attrs.width>this.RATIO*UW.$window.width()&&(this.attrs.width=this.RATIO*UW.$window.width(),this.attrs.height=this.attrs.width/c),this.render(),!1},render:function(){return UW.$body.one("click",this.remove),"uw-lightbox-video"==this.attrs.rel?UW.$body.append(_.template(this.templateVideo)(this.attrs)):UW.$body.append(_.template(this.template)(this.attrs))},remove:function(){return UW.$body.find(".uw-overlay").remove(),!1},getAttributes:function(a){var b=$(a.currentTarget),c=b.parent("a").siblings(".wp-caption-text").html();if(!c){var d=b.parent("a").parent(".gallery-icon");d&&(c=d.siblings(".wp-caption-text").text())}return{src:b.parent("a").attr("href")?b.parent("a").attr("href"):"",alt:b.attr("alt"),rel:b.parent("a").attr("rel")?b.parent("a").attr("rel"):"",caption:c}}}),UW.Player=Backbone.View.extend({defaults:{},initialize:function(a){}}),UW.Social=Backbone.View.extend({el:".uw-social",template:'<ul><% if ( _.isString( facebook ) ) { %> <li><a class="uw-social-facebook" href="http://www.facebook.com/sharer.php?u=<%= url %>">Facebook</a></li> <% } %><% if ( _.isString( twitter ) ) { %> <li><a class="uw-social-twitter" href="http://twitter.com/?status=<%= url %>">Twitter</a></li> <% } %><% if ( _.isString( reddit ) ) { %> <li><a class="uw-social-reddit" href="http://reddit.com/submit?url=<%= url %>">Reddit</a></li> <% } %><% if ( _.isString( digg ) ) { %> <li><a class="uw-social-reddit" href="http://digg.com/submit?url=<%= url %>">Digg</a></li> <% } %><% if ( _.isString( stumbleupon ) ) { %> <li><a class="uw-social-reddit" href="http://www.stumbleupon.com/submit?url=<%= url %>">StumbleUpon</a></li> <% } %></ul>',settings:{facebook:!1,twitter:!1,reddit:!1,digg:!1,stumbleupon:!1,url:document.URL},initialize:function(a){this.options=_.extend({},this.settings,this.$el.data(),a),this.buttons=_.template(this.template)(this.options),this.$el.html(this.buttons)}}),jQuery(document).ready(function(a){a("a.uw-custom-link").addClass("disable_a_href")})}).call(this);